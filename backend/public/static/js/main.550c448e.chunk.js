(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[4],{125:function(e,t,n){"use strict";var r=n(0),c=Object(r.createContext)({});t.a=c},139:function(e,t,n){},149:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(33),s=n.n(a),i=(n(139),n(10)),u=n(53),o=n(52),l=n(41),b=n(71);var j=Object(l.d)(b.a,function(){try{var e=localStorage.getItem("persistantState");if(null===e)return;return JSON.parse(e)}catch(t){return void console.warn(t)}}());j.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("persistantState",t)}catch(n){console.warn(n)}}(j.getState())}));var f=j,h=n(9),p=n(40),O=n(75),d=n(47),x=n(21),m=n(18),v=n(1);function k(){return Object(v.jsx)("svg",{id:"Capa_1",enableBackground:"new 0 0 504.519 504.519",height:"50",viewBox:"0 0 504.519 504.519",width:"50",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsxs)("g",{children:[Object(v.jsxs)("g",{children:[Object(v.jsx)("path",{d:"m474.206 148.102c-.066-.002-.13-.01-.196-.01h-25.653-204.752v346.827c1.403 0 2.67-.774 3.38-1.984 4.281-7.295 12.202-12.193 21.271-12.193h205.754c.066 0 .13-.008.196-.01z",fill:"#0078c8"}),Object(v.jsx)("g",{children:Object(v.jsx)("path",{d:"m474.01 148.092h-25.653-16.761c3.148 0 5.701 2.552 5.701 5.701v321.248c0 3.149-2.552 5.701-5.701 5.701h42.414c3.148 0 5.701-2.552 5.701-5.701 0-6.168 0-314.642 0-321.248 0-3.148-2.553-5.701-5.701-5.701z",fill:"#0268b4"})}),Object(v.jsx)("path",{d:"m439.792 129.239h-181.935c-7.871 0-14.252 6.381-14.252 14.252v306.636h2.311c2.543-3.902 6.937-6.486 11.941-6.486h181.935z",fill:"#d5e3f4"}),Object(v.jsx)("path",{d:"m243.605 494.919v-28.928-15.864-302.035h-204.751-25.653c-3.148 0-5.701 2.552-5.701 5.701v147.175 37.606 136.466c0 3.148 2.552 5.701 5.701 5.701h205.753c9.069 0 16.99 4.899 21.271 12.193.71 1.211 1.977 1.985 3.38 1.985z",fill:"#0268b4"}),Object(v.jsx)("path",{d:"m396.122 413.971h-100.283c-4.276 0-7.742-3.466-7.742-7.742v-75.212c0-4.276 3.466-7.742 7.742-7.742h100.283c4.276 0 7.742 3.466 7.742 7.742v75.212c.001 4.276-3.466 7.742-7.742 7.742z",fill:"#f47c7c"}),Object(v.jsx)("path",{d:"m241.294 450.127h2.311v-306.636c0-7.871-6.381-14.252-14.252-14.252h-183.848c-3.673 0-6.651 2.978-6.651 6.651v301.1c0 3.673 2.978 6.651 6.651 6.651h183.849c5.004 0 9.398 2.585 11.94 6.486z",fill:"#b3dafe"}),Object(v.jsx)("path",{d:"m155.584 292.12v55.303l32.845-23.13c3.128-2.203 3.128-6.84 0-9.043z",fill:"#e5eef9"}),Object(v.jsx)("g",{children:Object(v.jsx)("path",{d:"m441.706 129.239h-33.931c3.673 0 6.651 2.978 6.651 6.651v301.1c0 3.673-2.978 6.651-6.651 6.651h33.931c3.673 0 6.651-2.978 6.651-6.651v-301.1c0-3.673-2.978-6.651-6.651-6.651z",fill:"#b3dafe"})}),Object(v.jsx)("path",{d:"m360.063 206.83h55.724c3.631-10.809 9.648-20.659 17.599-28.832 11.698-12.025 18.668-28.671 17.892-46.947-1.39-32.745-28.111-59.35-60.862-60.604-36.156-1.384-65.902 27.516-65.902 63.363 0 17.191 6.846 32.775 17.957 44.193 7.949 8.169 13.961 18.018 17.591 28.823z",fill:"#fdb97e"}),Object(v.jsx)("path",{d:"m360.063 206.83h55.724v22.819c0 15.388-12.474 27.862-27.862 27.862-15.388 0-27.862-12.474-27.862-27.862z",fill:"#678d98"}),Object(v.jsx)("path",{d:"m451.278 131.052c-1.39-32.745-28.111-59.35-60.862-60.604-5.748-.22-11.331.331-16.661 1.548 27.243 6.258 48.026 30.282 49.247 59.056.776 18.276-6.194 34.921-17.892 46.947-7.951 8.173-13.968 18.023-17.599 28.832h28.276c3.631-10.809 9.648-20.658 17.599-28.832 11.698-12.026 18.668-28.671 17.892-46.947z",fill:"#fea95c"}),Object(v.jsx)("path",{d:"m387.511 206.83v22.819c0 10.225-5.512 19.159-13.724 24.006 4.145 2.447 8.976 3.856 14.138 3.856 15.388 0 27.862-12.474 27.862-27.862v-22.819z",fill:"#537983"}),Object(v.jsx)("path",{d:"m155.584 292.12v55.303l32.845-23.13c3.128-2.203 3.128-6.84 0-9.043z",fill:"#f9c6c6"}),Object(v.jsx)("path",{d:"m188.428 324.293c3.128-2.203 3.128-6.84 0-9.043l-32.845-23.13v25.448l21.197 14.927z",fill:"#f9b1b1"}),Object(v.jsx)("path",{d:"m16.349 292.079c-4.887 0-8.849 3.962-8.849 8.849v25.491c0-4.887 3.962-8.849 8.849-8.849h35.265v-25.491z",fill:"#e94444"}),Object(v.jsx)("path",{d:"m51.614 297.776h103.97v49.648h-103.97z",fill:"#d83131"}),Object(v.jsx)("path",{d:"m7.5 306.624v31.951c0 4.887 3.962 8.849 8.849 8.849h35.265v-49.648h-35.265c-4.887-.001-8.849 3.961-8.849 8.848z",fill:"#f47c7c"}),Object(v.jsx)("path",{d:"m51.614 292.12h103.97v25.448h-103.97z",fill:"#ca2c2c"}),Object(v.jsx)("path",{d:"m7.5 300.969v25.45c0-4.887 3.962-8.849 8.849-8.849h35.265v-25.45h-35.265c-4.887 0-8.849 3.962-8.849 8.849z",fill:"#ee6161"})]}),Object(v.jsxs)("g",{children:[Object(v.jsx)("path",{d:"m286.438 295.491h119.086c4.581 0 8.295-3.714 8.295-8.296 0-4.581-3.714-8.295-8.295-8.295h-119.086c-4.581 0-8.295 3.714-8.295 8.295-.001 4.582 3.713 8.296 8.295 8.296z"}),Object(v.jsx)("path",{d:"m396.123 315.774h-100.284c-8.405 0-15.242 6.838-15.242 15.243v75.212c0 8.405 6.837 15.242 15.242 15.242h100.283c8.405 0 15.242-6.837 15.242-15.242v-75.212c.001-8.405-6.837-15.243-15.241-15.243zm.242 90.455c0 .134-.109.242-.242.242h-100.284c-.133 0-.242-.108-.242-.242v-75.212c0-.134.109-.243.242-.243h100.283c.133 0 .242.109.242.243v75.212z"}),Object(v.jsx)("path",{d:"m387.926 39.228c4.142 0 7.5-3.358 7.5-7.5v-22.099c0-4.142-3.358-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v22.098c0 4.143 3.358 7.501 7.5 7.501z"}),Object(v.jsx)("path",{d:"m330.765 51.742c1.464 1.464 3.384 2.197 5.303 2.197s3.839-.732 5.303-2.197c2.929-2.929 2.929-7.678 0-10.606l-15.625-15.626c-2.929-2.929-7.678-2.929-10.606 0-2.929 2.929-2.929 7.678 0 10.606z"}),Object(v.jsx)("path",{d:"m439.784 53.939c1.919 0 3.839-.732 5.303-2.197l15.625-15.625c2.929-2.929 2.929-7.678 0-10.606-2.929-2.929-7.678-2.929-10.606 0l-15.626 15.625c-2.929 2.929-2.929 7.678 0 10.606 1.465 1.465 3.384 2.197 5.304 2.197z"}),Object(v.jsx)("path",{d:"m497.019 82.627h-22.098c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h22.098c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z"}),Object(v.jsx)("path",{d:"m278.832 97.627h22.098c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-22.098c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5z"}),Object(v.jsx)("path",{d:"m81.687 182.62h119.086c4.581 0 8.295-3.714 8.295-8.295 0-4.582-3.714-8.296-8.295-8.296h-119.086c-4.581 0-8.295 3.714-8.295 8.296-.001 4.581 3.713 8.295 8.295 8.295z"}),Object(v.jsx)("path",{d:"m81.687 220.244h119.086c4.581 0 8.295-3.714 8.295-8.295 0-4.581-3.714-8.295-8.295-8.295h-119.086c-4.581 0-8.295 3.714-8.295 8.295-.001 4.581 3.713 8.295 8.295 8.295z"}),Object(v.jsx)("path",{d:"m209.068 249.572c0-4.582-3.714-8.296-8.295-8.296h-119.086c-4.581 0-8.295 3.714-8.295 8.296 0 4.581 3.714 8.295 8.295 8.295h119.086c4.581 0 8.295-3.714 8.295-8.295z"}),Object(v.jsx)("path",{d:"m81.687 398.955h119.086c4.581 0 8.295-3.714 8.295-8.296 0-4.581-3.714-8.295-8.295-8.295h-119.086c-4.581 0-8.295 3.714-8.295 8.295-.001 4.582 3.713 8.296 8.295 8.296z"}),Object(v.jsx)("path",{d:"m467.74 140.592h-9.226c.212-2.241.322-4.502.322-6.779 0-13.78-4.006-27.008-11.308-38.301-2.249-3.479-6.892-4.474-10.37-2.227-3.479 2.249-4.476 6.892-2.227 10.37 9.743 15.071 11.11 34.198 6.276 47.088-3.099 12.397-14.656 23.554-15.654 24.674-.136.152-.273.303-.407.456-6.155 7.013-11.096 15.04-14.562 23.457h-45.322c-3.898-9.474-9.804-18.732-17.417-26.556-10.209-10.492-15.832-24.329-15.832-38.962 0-30.66 24.95-55.912 55.911-55.912.732 0 1.467.014 2.204.042 7.653.292 15.037 2.138 21.947 5.486 3.729 1.805 8.214.248 10.02-3.48s.247-8.214-3.48-10.02c-8.786-4.256-18.178-6.603-27.915-6.975-36.187-1.367-66.733 24.544-72.638 58.786h-60.206c-5.448 0-10.431 2.018-14.251 5.34-3.821-3.322-8.803-5.34-14.252-5.34h-183.848c-7.803 0-14.151 6.348-14.151 14.151v4.702h-11.884c-10.736 0-19.47 8.734-19.47 19.47v201.964c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-7.159c.445.037.895.055 1.349.055h15.005c0 88.661-.127 82.892.288 84.915 1.322 6.442 7.035 11.303 13.863 11.303h183.849c4.209 0 5.427 3.133 6.752 4.402v22.681c-5.065-3.196-11.001-4.982-17.151-4.982h-199.485c-2.465 0-4.47-2.005-4.47-4.47v-71.745c0-4.142-3.358-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v71.745c0 10.736 8.734 19.47 19.47 19.47h199.484c6.058 0 11.729 3.253 14.802 8.488 4.477 7.634 15.322 7.459 19.698.001 3.073-5.236 8.745-8.489 14.803-8.489h199.483c10.736 0 19.47-8.734 19.47-19.47v-308.708c0-10.736-8.734-19.471-19.47-19.471zm-79.815 109.419c-11.228 0-20.362-9.134-20.362-20.362v-15.319h40.724v15.319c0 11.228-9.135 20.362-20.362 20.362zm-130.068-113.272h59.217c.412 10.175 3.112 20.379 7.674 29.29h-38.31c-4.581 0-8.296 3.714-8.296 8.295 0 4.582 3.714 8.296 8.296 8.296h50.087c6.293 6.62 10.524 12.519 14.252 21.033h-64.339c-4.581 0-8.296 3.714-8.296 8.296 0 4.581 3.714 8.295 8.296 8.295h66.125v9.406c0 4.073.7 7.983 1.973 11.626h-68.098c-4.581 0-8.296 3.714-8.296 8.296 0 4.581 3.714 8.295 8.296 8.295l79.847-.28c5.986 4.647 13.493 7.424 21.64 7.424 19.499 0 35.362-15.863 35.362-35.362v-21.492c5.539-15.613 14.434-23.66 17.57-27.179v255.163h-183c-.014 0-.028.002-.042.002-2.308.004-4.83.452-6.709 1.068v-293.719c-.001-3.723 3.028-6.753 6.751-6.753zm-242.857 23.324c0-2.465 2.005-4.47 4.47-4.47h11.884v129.027h-15.005c-.454 0-.904.019-1.349.055zm1.349 179.86c-.744 0-1.349-.605-1.349-1.349v-37.606c0-.744.605-1.349 1.349-1.349h22.505 5.26v40.303h-5.26-22.505zm35.265 15h103.97c1.428 0 2.994-.45 4.278-1.344.013-.009.027-.015.04-.024l32.845-23.13c3.461-2.438 5.528-6.42 5.528-10.654s-2.067-8.216-5.528-10.653l-32.845-23.13c-.014-.01-.03-.017-.044-.027-1.1-.764-2.456-1.257-3.936-1.324-.113-.005-.224-.017-.339-.017-12.899 0-97.918 0-109.229 0v-136.528-11.353h183c3.723 0 6.752 3.029 6.752 6.752v293.719c-1.938-.63-4.447-1.063-6.708-1.068-.015 0-.029-.002-.044-.002h-183v-81.217zm96.469-15h-88.97v-40.303h88.97zm33.74-20.151-18.739 13.197v-26.394zm290.387 149c0 2.465-2.005 4.47-4.47 4.47h-199.483c-6.15 0-12.086 1.787-17.151 4.982v-22.681c1.364-1.309 2.501-4.401 6.751-4.401h183.849c7.802 0 14.151-6.348 14.151-14.151v-281.399h11.884c2.465 0 4.47 2.005 4.47 4.47v308.71z"})]})]})})}function y(){return Object(v.jsxs)(x.a,{title:"Search by",children:[Object(v.jsx)(x.a.Item,{to:"/search/title",as:m.b,children:"Title"}),Object(v.jsx)(x.a.Item,{to:"/search/author",as:m.b,children:"Author"}),Object(v.jsx)(x.a.Item,{to:"/search/genre",as:m.b,children:"Genre"}),Object(v.jsx)(x.a.Item,{to:"/search/series",as:m.b,children:"Series"})]})}var g=n(96);function w(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!0),s=Object(i.a)(a,2),u=s[0],o=s[1];return Object(r.useEffect)((function(){return u&&Object(g.f)().then((function(e){c(e)})),function(){o(!1)}})),Object(v.jsxs)(x.a,{title:"Books",children:[Object(v.jsxs)(x.a.Item,{to:"/books/all",as:m.b,children:["All books (",n.length," book",n.length>1?"s":"",")"]}),Object(v.jsx)(x.a.Item,{to:"/books/newest",as:m.b,children:"New books (12 recently added books)"}),Object(v.jsx)(x.a.Item,{to:"/books/liked",as:m.b,children:"Most liked books (12 most liked books)"})]})}function z(){var e=Object(u.b)(),t=Object(h.g)();return Object(v.jsx)("header",{style:{backgroundColor:"#ACD646",width:"100%"},children:Object(v.jsx)(p.a,{bg:"light",expand:"lg",children:Object(v.jsxs)(O.a,{style:{backgroundColor:"greenyellow"},children:[Object(v.jsxs)(p.a.Brand,{to:"/",as:m.b,"data-testid":"main",style:{marginRight:"2%"},children:[Object(v.jsx)(k,{})," BookWorld"]}),Object(v.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(v.jsxs)(d.a,{className:"me-auto",style:{marginLeft:"15%"},children:[Object(v.jsx)(w,{}),Object(v.jsx)(y,{}),Object(v.jsx)(d.a.Link,{to:"/create",as:m.b,children:"Add book"}),Object(v.jsxs)(x.a,{title:"Profile",children:[Object(v.jsx)(x.a.Item,{to:"/profile/my",as:m.b,children:"My books"}),Object(v.jsx)(x.a.Item,{to:"/profile/liked",as:m.b,children:"Liked books"}),Object(v.jsx)(x.a.Item,{to:"/profile/favourite",as:m.b,children:"Favourite books"}),Object(v.jsx)(x.a.Item,{to:"/profile/preferences",as:m.b,children:"Book preferences"}),Object(v.jsx)(x.a.Item,{to:"/profile/recommended",as:m.b,children:"Recommended books"}),Object(v.jsx)(x.a.Item,{to:"/profile/info",as:m.b,children:"Profile info"})]}),Object(v.jsx)(d.a.Link,{to:"/logout",as:m.b,onClick:function(n){return function(e,t,n,r){e.preventDefault(),t(n()),localStorage.removeItem("username"),localStorage.removeItem("token"),r("/")}(n,e,b.c,t)},children:"Logout"})]})})]})})})}function I(){return Object(v.jsx)("header",{style:{backgroundColor:"#ACD466",width:"100%"},children:Object(v.jsx)(p.a,{bg:"light",expand:"lg",style:{width:"100%"},children:Object(v.jsxs)(O.a,{style:{backgroundColor:"greenyellow",width:"100%"},children:[Object(v.jsxs)(p.a.Brand,{to:"/",as:m.b,"data-testid":"main",children:[Object(v.jsx)(k,{})," BookWorld"]}),Object(v.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(v.jsxs)(d.a,{className:"me-auto",style:{marginLeft:"15%"},children:[Object(v.jsx)(d.a.Link,{to:"/register",as:m.b,children:"Register"}),Object(v.jsx)(d.a.Link,{to:"/login",as:m.b,children:"Login"}),Object(v.jsx)(w,{}),Object(v.jsx)(y,{})]})})]})})})}function S(){return null==Object(u.c)((function(e){return e.user})).token?Object(v.jsx)(I,{}):Object(v.jsx)(z,{})}var P=n(125),_=function(e,t){var n=Object(r.useState)((function(){try{var n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return console.log(r),t}})),c=Object(i.a)(n,2),a=c[0],s=c[1];return[a,function(t){try{localStorage.setItem(e,JSON.stringify(t)),s(t)}catch(n){console.log(n)}}]},C=n(111),B=Object(r.lazy)((function(){return n.e(17).then(n.bind(null,210))})),L=Object(r.lazy)((function(){return Promise.all([n.e(2),n.e(28)]).then(n.bind(null,211))})),N=Object(r.lazy)((function(){return Promise.all([n.e(2),n.e(29)]).then(n.bind(null,212))})),T=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(18)]).then(n.bind(null,213))})),A=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(20)]).then(n.bind(null,214))})),D=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(19)]).then(n.bind(null,215))})),J=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(22)]).then(n.bind(null,216))})),E=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(23)]).then(n.bind(null,217))})),F=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(24)]).then(n.bind(null,230))})),R=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(21)]).then(n.bind(null,218))})),W=Object(r.lazy)((function(){return Promise.all([n.e(11),n.e(25)]).then(n.bind(null,231))})),G=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,219))})),M=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,220))})),H=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,221))})),K=Object(r.lazy)((function(){return Promise.all([n.e(12),n.e(26)]).then(n.bind(null,222))})),Q=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(27)]).then(n.bind(null,223))})),U=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,224))})),Y=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,225))})),X=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,226))})),q=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,227))})),V=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,228))}));function Z(){return Object(v.jsx)(r.Suspense,{fallback:Object(v.jsx)(C.a,{variant:"primary",animation:"border"}),children:Object(v.jsxs)(h.d,{children:[Object(v.jsx)(h.b,{exact:!0,path:"/",element:Object(v.jsx)(B,{})}),Object(v.jsx)(h.b,{path:"/register",element:Object(v.jsx)(L,{})}),Object(v.jsx)(h.b,{path:"/login",element:Object(v.jsx)(N,{})}),Object(v.jsx)(h.b,{path:"/books/all",element:Object(v.jsx)(T,{})}),Object(v.jsx)(h.b,{path:"/books/newest",element:Object(v.jsx)(A,{})}),Object(v.jsx)(h.b,{path:"/books/liked",element:Object(v.jsx)(D,{})}),Object(v.jsx)(h.b,{path:"/user/:username",element:Object(v.jsx)(J,{})}),Object(v.jsx)(h.b,{path:"/create",element:Object(v.jsx)(E,{})}),Object(v.jsx)(h.b,{path:"/details/:id",element:Object(v.jsx)(F,{})}),Object(v.jsx)(h.b,{path:"/edit/:id",element:Object(v.jsx)(W,{})}),Object(v.jsx)(h.b,{path:"/series/:name",element:Object(v.jsx)(R,{})}),Object(v.jsx)(h.b,{path:"/profile/my",element:Object(v.jsx)(G,{})}),Object(v.jsx)(h.b,{path:"/profile/liked",element:Object(v.jsx)(M,{})}),Object(v.jsx)(h.b,{path:"/profile/favourite",element:Object(v.jsx)(H,{})}),Object(v.jsx)(h.b,{path:"/profile/preferences",element:Object(v.jsx)(K,{})}),Object(v.jsx)(h.b,{path:"/profile/info",element:Object(v.jsx)(Q,{})}),Object(v.jsx)(h.b,{path:"/profile/recommended",element:Object(v.jsx)(U,{})}),Object(v.jsx)(h.b,{path:"/search/title",element:Object(v.jsx)(Y,{})}),Object(v.jsx)(h.b,{path:"/search/author",element:Object(v.jsx)(X,{})}),Object(v.jsx)(h.b,{path:"/search/genre",element:Object(v.jsx)(q,{})}),Object(v.jsx)(h.b,{path:"/search/series",element:Object(v.jsx)(V,{})})]})})}n(149);var $=n(3),ee=n(4),te=n(16),ne=n(17),re=n(97),ce=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(e){var r;return Object($.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(ee.a)(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?Object(v.jsxs)("div",{style:{marginLeft:"40%"},children:[Object(v.jsx)(S,{}),Object(v.jsx)("p",{children:"Something went wrong."}),Object(v.jsx)(o.a,{onClick:function(){return window.location.reload()},children:"Retry"}),Object(v.jsx)(re.a,{style:{marginTop:"10%"},src:"./error.jpg",alt:"No image"})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(c.a.Component),ae={username:null,_id:null};var se=function(){var e=_("user",ae),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(v.jsx)(ce,{children:Object(v.jsx)(u.a,{store:f,children:Object(v.jsx)(P.a.Provider,{value:{user:n,login:function(e){r(e)},logout:function(){r(ae)}},children:Object(v.jsxs)("div",{className:"App d-flex flex-column align-items-center",children:[Object(v.jsx)(S,{}),Object(v.jsx)(Z,{}),Object(v.jsx)("footer",{style:{backgroundColor:"greenyellow",width:"90%",marginTop:"1%"},children:Object(v.jsxs)("p",{style:{marginTop:"2%",textAlign:"center",fontSize:"14px"},children:["This site was created by ",Object(v.jsx)(o.a,{style:{fontSize:"13px"},variant:"dark",href:"mailto:pepi_petrov@outlook.com",children:"Petar Petroff"})]})})]})})})})},ie=function(e){e&&e instanceof Function&&n.e(30).then(n.bind(null,229)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};n(150),n(151);s.a.render(Object(v.jsx)(m.a,{children:Object(v.jsx)(se,{})}),document.getElementById("root")),ie()},54:function(e,t,n){"use strict";var r=n(132),c=Object(r.a)({apiKey:"AIzaSyBBl57WBHwYa-9WHvsRUv62BQ2XgY41J3I",authDomain:"books-320707.firebaseapp.com",databaseURL:"https://books-320707-default-rtdb.firebaseio.com",projectId:"books-320707",storageBucket:"books-320707.appspot.com",messagingSenderId:"814577049102",appId:"1:814577049102:web:057ae971e150c9dc11665f",measurementId:"G-5QSKEG5MJ7"});t.a=c},69:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return m}));var r=n(6),c=n.n(r),a=n(13),s=n(24),i=n(54),u=Object(s.c)(i.a);function o(e,t){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.e)(u,"".concat(t,"/").concat(n.name)),e.next=3,Object(s.f)(r,n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(c.a.mark((function e(t){var n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(s.e)(u,"".concat(t,"/")),e.next=3,Object(s.d)(n);case 3:return r=e.sent,a=r.items[0],e.next=7,Object(s.b)(a);case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(s.e)(u,"".concat(t,"/")),e.next=3,Object(s.d)(n);case 3:return r=e.sent,a=r.items[0],e.next=7,Object(s.a)(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return O.apply(this,arguments)}function O(){return(O=Object(a.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:return e.next=4,o(t,n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return x.apply(this,arguments)}function x(){return(x=Object(a.a)(c.a.mark((function e(t){var n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(s.e)(u,"".concat(t,"/")),e.next=3,Object(s.d)(n);case 3:if(r=e.sent,!(a=r.items[0])){e.next=12;break}return e.next=8,Object(s.b)(a);case 8:return i=e.sent,e.abrupt("return",i);case 12:return e.abrupt("return","");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return v.apply(this,arguments)}function v(){return(v=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n){e.next=16;break}return r=Object(s.e)(u,"".concat(t,"/")),a=Object(s.e)(u,"".concat(t,"/").concat(n.name)),e.next=5,Object(s.d)(r);case 5:return i=e.sent,o=i.items[0],e.prev=7,e.next=10,Object(s.a)(o);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(7);case 14:return e.next=16,Object(s.f)(a,n);case 16:case"end":return e.stop()}}),e,null,[[7,12]])})))).apply(this,arguments)}},71:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));var r=n(93),c=Object(r.a)({name:"auth",initialState:{user:{username:null,token:null}},reducers:{login:function(e){return{user:{username:localStorage.getItem("username"),token:localStorage.getItem("token")}}},logout:function(e){return{user:{username:null,token:null}}}}}),a=c.actions,s=a.login,i=a.logout;t.a=c.reducer},96:function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return k})),n.d(t,"n",(function(){return g})),n.d(t,"i",(function(){return z})),n.d(t,"b",(function(){return S})),n.d(t,"o",(function(){return _})),n.d(t,"a",(function(){return B})),n.d(t,"m",(function(){return N})),n.d(t,"d",(function(){return A})),n.d(t,"k",(function(){return J})),n.d(t,"j",(function(){return F})),n.d(t,"h",(function(){return W})),n.d(t,"l",(function(){return M}));var r=n(15),c=n(6),a=n.n(c),s=n(13),i=n(7),u=n(80),o=n.n(u),l=n(98),b=n(69),j=n(54),f=Object(i.c)(j.a),h=Object(i.g)(f);function p(){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(Object(i.a)(h,"/books"));case 2:if(null===(t=e.sent).val()){e.next=8;break}return n=Object.values(t.val()).sort((function(e,t){return e.title.localeCompare(t.title)})),e.abrupt("return",n);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(a.a.mark((function e(t){var n,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:if(null===(n=e.sent)){e.next=21;break}c=Object(r.a)(n),e.prev=5,c.s();case 7:if((s=c.n()).done){e.next=13;break}if((i=s.value)._id!==t){e.next=11;break}return e.abrupt("return",i);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),c.e(e.t0);case 18:return e.prev=18,c.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})))).apply(this,arguments)}function m(e,t){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:if(e.sent){e.next=16;break}return t.rating=[],t.likes=[],t.creator=localStorage.getItem("username"),t._id=o()(),t.createdOn=Date.now(),e.next=11,Object(b.f)(t._id,n);case 11:return e.next=13,Object(i.e)(Object(i.a)(h,"/books"),t);case 13:return e.abrupt("return",t._id);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(a.a.mark((function e(t,n,r){var c,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(Object(i.a)(h,"/books"));case 2:c=e.sent,s=c.val(),e.t0=a.a.keys(c.val());case 5:if((e.t1=e.t0()).done){e.next=13;break}if(u=e.t1.value,s[u]._id!==t){e.next=11;break}return e.next=11,Object(i.i)(Object(i.a)(h,"books/".concat(u)),n);case 11:e.next=5;break;case 13:if(null===r){e.next=16;break}return e.next=16,Object(b.a)(t,r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(a.a.mark((function e(t){var n,r,c,s,u,o,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(Object(i.a)(h,"/books"));case 2:return n=e.sent,r=n.val(),e.next=6,Object(i.b)(Object(i.a)(h,"/books"));case 6:c=e.sent,s=c.val(),e.t0=a.a.keys(s);case 9:if((e.t1=e.t0()).done){e.next=25;break}if(u=e.t1.value,void 0===(o=s[u]).likes){e.next=17;break}if(-1===o.likes.indexOf(t)){e.next=17;break}return o.likes.splice(o.likes.indexOf(t),1),e.next=17,Object(i.i)(Object(i.a)(h,"/users/".concat(u)),o);case 17:if(s[u]._id!==localStorage.getItem("token")){e.next=23;break}if(void 0===o.favourites){e.next=23;break}if(-1===o.favourites.indexOf(t)){e.next=23;break}return o.favourites.splice(o.likes.indexOf(t),1),e.next=23,Object(i.i)(Object(i.a)(h,"/users/".concat(u)),o);case 23:e.next=9;break;case 25:return e.next=27,Object(l.e)(t);case 27:return e.next=29,Object(b.d)(t);case 29:e.t2=a.a.keys(r);case 30:if((e.t3=e.t2()).done){e.next=37;break}if(j=e.t3.value,r[j]._id!==t){e.next=35;break}return e.next=35,Object(i.h)(Object(i.a)(h,"books/".concat(j)));case 35:e.next=30;break;case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return I.apply(this,arguments)}function I(){return(I=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return n=e.sent,r=n.filter((function(e){return e.series===t})).sort((function(e,t){return e.seriesNumber-t.seriesNumber})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return P.apply(this,arguments)}function P(){return(P=Object(s.a)(a.a.mark((function e(t){var n,r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(Object(i.a)(h,"/users"));case 2:n=e.sent,r=n.val(),e.t0=a.a.keys(r);case 5:if((e.t1=e.t0()).done){e.next=15;break}if(c=e.t1.value,r[c]._id!==localStorage.getItem("token")){e.next=13;break}return void 0===(s=r[c]).favourites&&(s.favourites=[]),s.favourites.push(t),e.next=13,Object(i.i)(Object(i.a)(h,"/users/"+c),s);case 13:e.next=5;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(a.a.mark((function e(t){var n,r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(Object(i.a)(h,"/users"));case 2:n=e.sent,r=n.val(),e.t0=a.a.keys(r);case 5:if((e.t1=e.t0()).done){e.next=14;break}if(c=e.t1.value,r[c]._id!==localStorage.getItem("token")){e.next=12;break}return(s=r[c]).favourites=s.favourites.filter((function(e){return e!==t})),e.next=12,Object(i.i)(Object(i.a)(h,"/users/".concat(c)),s);case 12:e.next=5;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return L.apply(this,arguments)}function L(){return(L=Object(s.a)(a.a.mark((function e(t,n){var r,c,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return r=e.sent,e.next=5,Object(i.b)(Object(i.a)(h,"/books"));case 5:for(u in c=e.sent,s=c.val(),void 0===r.ratings&&(r.ratings=[]),r.ratings.push({username:localStorage.getItem("username"),rating:n}),c.val())s[u]._id===t&&Object(i.i)(Object(i.a)(h,"books/".concat(u)),r).then((function(){console.log("hehhehheh")}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(a.a.mark((function e(t,n){var r,c,s,u,o,l,b,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return r=e.sent,e.next=5,Object(i.b)(Object(i.a)(h,"/books"));case 5:return c=e.sent,e.next=8,Object(i.b)(Object(i.a)(h,"/users"));case 8:s=e.sent,u=c.val(),o=s.val(),void 0===r.likes&&(r.likes=[]),r.likes.push(localStorage.getItem("username")),e.t0=a.a.keys(c.val());case 14:if((e.t1=e.t0()).done){e.next=21;break}if(l=e.t1.value,u[l]._id!==t){e.next=19;break}return e.next=19,Object(i.i)(Object(i.a)(h,"books/".concat(l)),r);case 19:e.next=14;break;case 21:e.t2=a.a.keys(s.val());case 22:if((e.t3=e.t2()).done){e.next=33;break}if(b=e.t3.value,o[b]._id!==localStorage.getItem("token")){e.next=31;break}return void 0===(j=o[b]).likes&&(j.likes=[]),j.likes.push(t),n(j),e.next=31,Object(i.i)(Object(i.a)(h,"users/".concat(b)),j);case 31:e.next=22;break;case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(a.a.mark((function e(t){var n,r,c,s,u,o,l,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return n=e.sent,e.next=5,Object(i.b)(Object(i.a)(h,"/books"));case 5:return r=e.sent,c=r.val(),e.next=9,Object(i.b)(Object(i.a)(h,"/users"));case 9:s=e.sent,u=s.val(),n.likes.splice(n.likes.indexOf(localStorage.getItem("username")),1),e.t0=a.a.keys(r.val());case 13:if((e.t1=e.t0()).done){e.next=20;break}if(o=e.t1.value,c[o]._id!==t){e.next=18;break}return e.next=18,Object(i.i)(Object(i.a)(h,"books/".concat(o)),n);case 18:e.next=13;break;case 20:e.t2=a.a.keys(u);case 21:if((e.t3=e.t2()).done){e.next=32;break}if(l=e.t3.value,u[l]._id!==localStorage.getItem("token")){e.next=30;break}if(void 0===(b=u[l]).likes){e.next=30;break}if(-1===b.likes.indexOf(t)){e.next=30;break}return b.likes.splice(b.likes.indexOf(t),1),e.next=30,Object(i.i)(Object(i.a)(h,"users/".concat(l)),b);case 30:e.next=21;break;case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return t=e.sent,n=t?t.sort((function(e,t){return t.createdOn-e.createdOn})).slice(0,12):[],e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return R.apply(this,arguments)}function R(){return(R=Object(s.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return t=e.sent,n=t?t.filter((function(e){return e.likes})).sort((function(e,t){return t.likes.length-e.likes.length})).slice(0,12):[],e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return G.apply(this,arguments)}function G(){return(G=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return e.creator===t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return H.apply(this,arguments)}function H(){return(H=Object(s.a)(a.a.mark((function e(t){var n,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:n=e.sent,c=Object(r.a)(n),e.prev=4,c.s();case 6:if((s=c.n()).done){e.next=12;break}if(i=s.value,t.title!==i.title){e.next=10;break}return e.abrupt("return",!0);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})))).apply(this,arguments)}},98:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return y}));var r=n(6),c=n.n(r),a=n(13),s=n(7),i=n(80),u=n.n(i),o=n(54),l=Object(s.c)(o.a),b=Object(s.g)(l);function j(e){return f.apply(this,arguments)}function f(){return(f=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(Object(s.a)(b,"/comments"));case 2:if(null!==(n=e.sent).val()){e.next=7;break}return e.abrupt("return",[]);case 7:return e.abrupt("return",Object.values(n.val()));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return p.apply(this,arguments)}function p(){return(p=Object(a.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(Object(s.a)(b,"/comments"));case 2:if(n=e.sent,r=[],null!==n.val()){e.next=8;break}return e.abrupt("return",[]);case 8:return a=n.val(),Object.values(a).filter((function(e){return e.bookId===t})).map((function(e){return r.push(e),e})),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return d.apply(this,arguments)}function d(){return(d=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.content,(a={}).content=r,a.bookId=n,a.creator=localStorage.getItem("username"),a._id=u()(),e.next=8,Object(s.e)(Object(s.a)(b,"/comments"),a);case 8:return e.next=10,h(n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return m.apply(this,arguments)}function m(){return(m=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(Object(s.a)(b,"/comments"));case 2:r=e.sent,a=r.val(),e.t0=c.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}if(i=e.t1.value,(u=a[i])._id!==n){e.next=12;break}return u.content=t.content,e.next=12,Object(s.i)(Object(s.a)(b,"/comments/"+i),u);case 12:e.next=5;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return k.apply(this,arguments)}function k(){return(k=Object(a.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(Object(s.a)(b,"/comments"));case 2:n=e.sent,r=n.val(),e.t0=c.a.keys(r);case 5:if((e.t1=e.t0()).done){e.next=13;break}if(a=e.t1.value,r[a]._id!==t){e.next=11;break}return e.next=11,Object(s.h)(Object(s.a)(b,"/comments/"+a));case 11:e.next=5;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(Object(s.a)(b,"/comments"));case 2:if(null!==(n=e.sent).val()){e.next=7;break}return e.abrupt("return");case 7:r=n.val(),e.t0=c.a.keys(r);case 9:if((e.t1=e.t0()).done){e.next=17;break}if(a=e.t1.value,r[a].bookId!==t){e.next=15;break}return e.next=15,Object(s.h)(Object(s.a)(b,"/comments/"+a));case 15:e.next=9;break;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},[[152,5,6]]]);
//# sourceMappingURL=main.550c448e.chunk.js.map