{"version":3,"sources":["validators.js","components/auth/Register/Register.js"],"names":["isEmpty","string","length","undefined","equals","a","b","isLength","isURL","url","test","isEmail","email","isGuest","dispatch","useDispatch","navigate","useNavigate","useState","form","setForm","errors","setErrors","doShowPassword","setDoShowPassword","setField","field","value","findFormErrors","password","username","confirmPassword","newErrors","className","style","width","onSubmit","e","preventDefault","Object","keys","register","then","x","localStorage","setItem","_id","login","catch","alert","message","Group","Label","Control","type","onChange","target","isInvalid","Feedback","autoComplete","Check","label"],"mappings":"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","file":"static/js/23.a9be6ff6.chunk.js","sourcesContent":["export function isEmpty(string) {\r\n    if (string.length === 0 || string === undefined) {\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\nexport function equals(a, b) {\r\n    if (a === b) {\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\nexport function isLength(string, length) {\r\n    if (string.length >= length) {\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\nexport function isURL(url) {\r\n    const regex = /^(https:|http:|www\\.)\\S*/gm\r\n    return regex.test(url)\r\n}\r\n\r\nexport function isEmail(email) {\r\n    const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/\r\n    return regex.test(email)\r\n}","import React, { useState } from 'react'\r\nimport { useNavigate } from 'react-router'\r\nimport { useDispatch } from 'react-redux'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button' \r\nimport { register } from '../../../services/auth-service'\r\nimport { isEmail, equals, isLength } from '../../../validators'\r\nimport { isGuest } from '../../../hoc/isGuest'\r\nimport { login } from '../../../redux/slices/authSlice'\r\n\r\nfunction Signup() {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const [form, setForm] = useState({})\r\n    const [errors, setErrors] = useState({})\r\n    const [doShowPassword, setDoShowPassword] = useState(false)\r\n\r\n    const checkboxChange = () => [\r\n        setDoShowPassword(!doShowPassword)\r\n    ]\r\n\r\n    const setField = (field, value) => {\r\n        setForm({\r\n            ...form,\r\n            [field]: value\r\n        })\r\n        if (!!errors[field]) setErrors({\r\n            ...errors,\r\n            [field]: null\r\n        })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        const newErrors = findFormErrors()\r\n        if (Object.keys(newErrors).length > 0) {\r\n            setErrors(newErrors)\r\n            return\r\n        } else {\r\n            register(form).then(x => {\r\n                localStorage.setItem('token', x._id)\r\n                localStorage.setItem('username', x.username)\r\n                dispatch(login())\r\n                navigate('/')\r\n            }).catch(e => {\r\n                alert(e.message)\r\n            })\r\n        }\r\n    }\r\n\r\n    const findFormErrors = () => {\r\n        // eslint-disable-next-line\r\n        const { email, username, password, confirmPassword } = form\r\n        const newErrors = {}\r\n\r\n        if (!isEmail(email)) {\r\n            newErrors.email = 'Email is invalid!'\r\n        }\r\n        if (!isLength(password, 6)) {\r\n            newErrors.password = 'Password must be at least 6 characters!'\r\n        }\r\n        if (!equals(password, confirmPassword)) {\r\n            newErrors.confirmPassword = 'Passwords do not match!'\r\n        }\r\n\r\n        return newErrors\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1 className=\"my-4 font-weight-bold .display-4\">Sign Up</h1>\r\n            <Form style={{ width: '300px' }} onSubmit={handleSubmit}>\r\n                <Form.Group>\r\n                    <Form.Label>Email</Form.Label>\r\n                    <Form.Control type=\"email\" onChange={e => setField('email', e.target.value)} isInvalid={!!errors.email} />\r\n                    <Form.Control.Feedback type='invalid'>\r\n                        {errors.email}\r\n                    </Form.Control.Feedback>\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Username</Form.Label>\r\n                    <Form.Control type=\"text\" onChange={e => setField('username', e.target.value)} isInvalid={!!errors.username} />\r\n                    <Form.Control.Feedback type='invalid'>\r\n                        {errors.username}\r\n                    </Form.Control.Feedback>\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control type={doShowPassword ? 'text' : 'password'} autoComplete=\"\" onChange={e => setField('password', e.target.value)} isInvalid={!!errors.password} />\r\n                    <Form.Check label=\"Show password\" onChange={checkboxChange}></Form.Check>\r\n                    <Form.Control.Feedback type='invalid'>\r\n                        {errors.password}\r\n                    </Form.Control.Feedback>\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Confirm Password</Form.Label>\r\n                    <Form.Control type=\"password\" autoComplete=\"\" onChange={e => setField('confirmPassword', e.target.value)} isInvalid={!!errors.confirmPassword} />\r\n                    <Form.Control.Feedback type='invalid'>\r\n                        {errors.confirmPassword}\r\n                    </Form.Control.Feedback>\r\n                </Form.Group>\r\n                <Button type=\"submit\">Register</Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default isGuest(Signup)"],"sourceRoot":""}