(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[29],{212:function(e,t,a){"use strict";a.r(t);var n=a(8),s=a(5),r=a(10),c=a(0),i=a(9),l=a(168),o=a(52),d=a(53),u=a(71),b=a(201),j=a(202),O=a(1);t.default=Object(j.a)((function(){var e=Object(d.c)((function(e){return e.user})),t=Object(d.b)(),a=Object(i.g)(),j=Object(c.useState)({}),p=Object(r.a)(j,2),h=p[0],m=p[1],f=Object(c.useState)({}),g=Object(r.a)(f,2),v=g[0],x=g[1],w=Object(c.useState)(!1),y=Object(r.a)(w,2),C=y[0],S=y[1];if(null!==e.token)return a("/"),null;var k=function(e,t){m(Object(s.a)(Object(s.a)({},h),{},Object(n.a)({},e,t))),v[e]&&x(Object(s.a)(Object(s.a)({},v),{},Object(n.a)({},e,null)))},I=function(){var e=h.emailOrUsername,t=h.password,a={};return e&&0===e.length&&(a.emailOrUsername="Email or username is required!"),t&&0===t.length&&(a.password="Password is required!"),a};return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{className:"my-4 font-weight-bold .display-4",children:"Sign In"}),Object(O.jsxs)(l.a,{style:{width:"300px"},onSubmit:function(e){e.preventDefault();var n=I();Object.keys(n).length>0?x(n):Object(b.a)(h).then((function(e){localStorage.setItem("token",e._id),localStorage.setItem("username",e.username),t(Object(u.b)()),a("/")})).catch((function(e){alert(e.message)}))},children:[Object(O.jsxs)(l.a.Group,{children:[Object(O.jsx)(l.a.Label,{children:"Email or username*"}),Object(O.jsx)(l.a.Control,{type:"text",onChange:function(e){return k("emailOrUsername",e.target.value)},isInvalid:!!v.emailOrUsername,placeholder:"Email or username","data-testid":"input-1"}),Object(O.jsx)(l.a.Control.Feedback,{type:"invalid","data-testid":"invalid-1",children:v.emailOrUsername})]}),Object(O.jsxs)(l.a.Group,{style:{marginTop:"5%"},children:[Object(O.jsxs)(l.a.Label,{children:["Password* / ",Object(O.jsx)(l.a.Check,{label:"Show password",onChange:function(){S(!C)}})]}),Object(O.jsx)(l.a.Control,{"data-testid":"input-2",type:C?"text":"password",autoComplete:"your-pass",onChange:function(e){return k("password",e.target.value)},isInvalid:!!v.password,placeholder:"Password"}),Object(O.jsx)(l.a.Control.Feedback,{type:"invalid","data-testid":"invalid-2",children:v.password})]}),Object(O.jsx)(o.a,{type:"submit",variant:"success","data-testid":"button",style:{marginTop:"5%"},children:"Sign in"})]})]})}))}}]);
//# sourceMappingURL=29.14761cda.chunk.js.map