{"version":3,"sources":["contexts/AuthContext.js","redux/store.js","components/util/Logo.js","components/nav/util/Search.js","components/nav/util/Catalog.js","components/nav/UserNav/UserNav.js","components/nav/GuestNav/GuestNav.js","components/nav/Nav/Nav.js","hooks/useLocalStorage.js","AppRoutes.js","ErrorBoundary.js","App.js","reportWebVitals.js","index.js","services/firebase.js","services/image-service.js","redux/slices/authSlice.js","services/books-service.js","services/comments-service.js"],"names":["AuthContext","createContext","store","createStore","authReducer","serialisedState","localStorage","getItem","JSON","parse","e","console","warn","loadFromLocalStorage","subscribe","state","stringify","setItem","saveToLocalStorage","getState","Logo","id","enableBackground","height","viewBox","width","xmlns","d","fill","Search","NavDropdown","title","Item","to","as","Link","Catalog","useState","books","setBooks","isLoading","setIsLoading","useEffect","getAll","then","x","length","UserNav","dispatch","useDispatch","navigate","useNavigate","style","backgroundColor","Navbar","bg","expand","Container","Brand","marginRight","Toggle","Collapse","Nav","className","marginLeft","onClick","authSliceLogout","preventDefault","removeItem","logout","GuestNav","useSelector","user","token","useLocalStorage","key","initialValue","item","err","log","setState","value","Home","lazy","Signup","Signin","AllBooks","NewestBooks","MostLiked","UserBooks","Create","Details","Series","Edit","CreatedBooks","LikedBooks","FavouriteBooks","Preferences","ProfileInfo","RecommendedBooks","SearchByTitle","SearchByAuthor","SearchByGenre","SearchBySeries","AppRoutes","fallback","Spinner","variant","animation","exact","path","element","ErrorBoundary","props","hasError","error","info","this","Button","window","location","reload","Image","marginTop","src","alt","children","React","Component","initialState","username","_id","App","setUser","Provider","login","authData","textAlign","fontSize","href","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","getStorage","uploadImage","bookId","file","a","imageRef","ref","name","uploadBytes","getImageUrl","list","imgList","fullRef","items","getDownloadURL","url","removeImage","deleteObject","editImage","getAvatar","setAvatar","avatar","avatarRef","authSlice","createSlice","reducers","actions","db","getDatabase","dbRef","get","child","snapshot","val","Object","values","sort","b","localeCompare","getBook","book","create","ifExists","rating","likes","creator","uniqid","createdOn","Date","now","push","edit","vals","bookKey","set","removeBook","usersSnapshot","usersVals","userKey","undefined","indexOf","splice","favourites","removeAllCommentsForBook","remove","getBySeries","allBooks","bookBySeries","filter","series","seriesNumber","addToFavourites","users","removeFromFavourites","addRating","ratings","like","dislike","getNewestBooks","result","slice","getMostLikedBooks","getBooksByUser","bookCheck","getAllComments","getCommentsByBook","fitlered","comments","map","createComment","content","comment","editComment","newComment","commentsSnapshot","commentKey","removeComment","commentId"],"mappings":"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","file":"static/js/main.550c448e.chunk.js","sourcesContent":["import { createContext } from \"react\"\r\n\r\nconst AuthContext = createContext({})\r\n\r\nexport default AuthContext","import { createStore } from \"@reduxjs/toolkit\"\r\nimport authReducer from './slices/authSlice'\r\n\r\nfunction saveToLocalStorage(state) {\r\n    try {\r\n        const serialisedState = JSON.stringify(state)\r\n        localStorage.setItem(\"persistantState\", serialisedState)\r\n    } catch (e) {\r\n        console.warn(e)\r\n    }\r\n}\r\n\r\nfunction loadFromLocalStorage() {\r\n    try {\r\n        const serialisedState = localStorage.getItem(\"persistantState\")\r\n        if (serialisedState === null) return undefined\r\n        return JSON.parse(serialisedState)\r\n    } catch (e) {\r\n        console.warn(e)\r\n        return undefined\r\n    }\r\n}\r\n\r\nconst store = createStore(authReducer, loadFromLocalStorage())\r\nstore.subscribe(() => saveToLocalStorage(store.getState()))\r\n\r\nexport default store","export default function Logo() {\r\n    return (<svg id=\"Capa_1\" enableBackground=\"new 0 0 504.519 504.519\" height=\"50\" viewBox=\"0 0 504.519 504.519\" width=\"50\"\r\n        xmlns=\"http://www.w3.org/2000/svg\">\r\n        <g>\r\n            <g>\r\n                <path\r\n                    d=\"m474.206 148.102c-.066-.002-.13-.01-.196-.01h-25.653-204.752v346.827c1.403 0 2.67-.774 3.38-1.984 4.281-7.295 12.202-12.193 21.271-12.193h205.754c.066 0 .13-.008.196-.01z\"\r\n                    fill=\"#0078c8\" />\r\n                <g>\r\n                    <path\r\n                        d=\"m474.01 148.092h-25.653-16.761c3.148 0 5.701 2.552 5.701 5.701v321.248c0 3.149-2.552 5.701-5.701 5.701h42.414c3.148 0 5.701-2.552 5.701-5.701 0-6.168 0-314.642 0-321.248 0-3.148-2.553-5.701-5.701-5.701z\"\r\n                        fill=\"#0268b4\" />\r\n                </g>\r\n                <path\r\n                    d=\"m439.792 129.239h-181.935c-7.871 0-14.252 6.381-14.252 14.252v306.636h2.311c2.543-3.902 6.937-6.486 11.941-6.486h181.935z\"\r\n                    fill=\"#d5e3f4\" />\r\n                <path\r\n                    d=\"m243.605 494.919v-28.928-15.864-302.035h-204.751-25.653c-3.148 0-5.701 2.552-5.701 5.701v147.175 37.606 136.466c0 3.148 2.552 5.701 5.701 5.701h205.753c9.069 0 16.99 4.899 21.271 12.193.71 1.211 1.977 1.985 3.38 1.985z\"\r\n                    fill=\"#0268b4\" />\r\n                <path\r\n                    d=\"m396.122 413.971h-100.283c-4.276 0-7.742-3.466-7.742-7.742v-75.212c0-4.276 3.466-7.742 7.742-7.742h100.283c4.276 0 7.742 3.466 7.742 7.742v75.212c.001 4.276-3.466 7.742-7.742 7.742z\"\r\n                    fill=\"#f47c7c\" />\r\n                <path\r\n                    d=\"m241.294 450.127h2.311v-306.636c0-7.871-6.381-14.252-14.252-14.252h-183.848c-3.673 0-6.651 2.978-6.651 6.651v301.1c0 3.673 2.978 6.651 6.651 6.651h183.849c5.004 0 9.398 2.585 11.94 6.486z\"\r\n                    fill=\"#b3dafe\" />\r\n                <path d=\"m155.584 292.12v55.303l32.845-23.13c3.128-2.203 3.128-6.84 0-9.043z\" fill=\"#e5eef9\" />\r\n                <g>\r\n                    <path\r\n                        d=\"m441.706 129.239h-33.931c3.673 0 6.651 2.978 6.651 6.651v301.1c0 3.673-2.978 6.651-6.651 6.651h33.931c3.673 0 6.651-2.978 6.651-6.651v-301.1c0-3.673-2.978-6.651-6.651-6.651z\"\r\n                        fill=\"#b3dafe\" />\r\n                </g>\r\n                <path\r\n                    d=\"m360.063 206.83h55.724c3.631-10.809 9.648-20.659 17.599-28.832 11.698-12.025 18.668-28.671 17.892-46.947-1.39-32.745-28.111-59.35-60.862-60.604-36.156-1.384-65.902 27.516-65.902 63.363 0 17.191 6.846 32.775 17.957 44.193 7.949 8.169 13.961 18.018 17.591 28.823z\"\r\n                    fill=\"#fdb97e\" />\r\n                <path\r\n                    d=\"m360.063 206.83h55.724v22.819c0 15.388-12.474 27.862-27.862 27.862-15.388 0-27.862-12.474-27.862-27.862z\"\r\n                    fill=\"#678d98\" />\r\n                <path\r\n                    d=\"m451.278 131.052c-1.39-32.745-28.111-59.35-60.862-60.604-5.748-.22-11.331.331-16.661 1.548 27.243 6.258 48.026 30.282 49.247 59.056.776 18.276-6.194 34.921-17.892 46.947-7.951 8.173-13.968 18.023-17.599 28.832h28.276c3.631-10.809 9.648-20.658 17.599-28.832 11.698-12.026 18.668-28.671 17.892-46.947z\"\r\n                    fill=\"#fea95c\" />\r\n                <path\r\n                    d=\"m387.511 206.83v22.819c0 10.225-5.512 19.159-13.724 24.006 4.145 2.447 8.976 3.856 14.138 3.856 15.388 0 27.862-12.474 27.862-27.862v-22.819z\"\r\n                    fill=\"#537983\" />\r\n                <path d=\"m155.584 292.12v55.303l32.845-23.13c3.128-2.203 3.128-6.84 0-9.043z\" fill=\"#f9c6c6\" />\r\n                <path d=\"m188.428 324.293c3.128-2.203 3.128-6.84 0-9.043l-32.845-23.13v25.448l21.197 14.927z\"\r\n                    fill=\"#f9b1b1\" />\r\n                <path\r\n                    d=\"m16.349 292.079c-4.887 0-8.849 3.962-8.849 8.849v25.491c0-4.887 3.962-8.849 8.849-8.849h35.265v-25.491z\"\r\n                    fill=\"#e94444\" />\r\n                <path d=\"m51.614 297.776h103.97v49.648h-103.97z\" fill=\"#d83131\" />\r\n                <path\r\n                    d=\"m7.5 306.624v31.951c0 4.887 3.962 8.849 8.849 8.849h35.265v-49.648h-35.265c-4.887-.001-8.849 3.961-8.849 8.848z\"\r\n                    fill=\"#f47c7c\" />\r\n                <path d=\"m51.614 292.12h103.97v25.448h-103.97z\" fill=\"#ca2c2c\" />\r\n                <path\r\n                    d=\"m7.5 300.969v25.45c0-4.887 3.962-8.849 8.849-8.849h35.265v-25.45h-35.265c-4.887 0-8.849 3.962-8.849 8.849z\"\r\n                    fill=\"#ee6161\" />\r\n            </g>\r\n            <g>\r\n                <path\r\n                    d=\"m286.438 295.491h119.086c4.581 0 8.295-3.714 8.295-8.296 0-4.581-3.714-8.295-8.295-8.295h-119.086c-4.581 0-8.295 3.714-8.295 8.295-.001 4.582 3.713 8.296 8.295 8.296z\" />\r\n                <path\r\n                    d=\"m396.123 315.774h-100.284c-8.405 0-15.242 6.838-15.242 15.243v75.212c0 8.405 6.837 15.242 15.242 15.242h100.283c8.405 0 15.242-6.837 15.242-15.242v-75.212c.001-8.405-6.837-15.243-15.241-15.243zm.242 90.455c0 .134-.109.242-.242.242h-100.284c-.133 0-.242-.108-.242-.242v-75.212c0-.134.109-.243.242-.243h100.283c.133 0 .242.109.242.243v75.212z\" />\r\n                <path\r\n                    d=\"m387.926 39.228c4.142 0 7.5-3.358 7.5-7.5v-22.099c0-4.142-3.358-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v22.098c0 4.143 3.358 7.501 7.5 7.501z\" />\r\n                <path\r\n                    d=\"m330.765 51.742c1.464 1.464 3.384 2.197 5.303 2.197s3.839-.732 5.303-2.197c2.929-2.929 2.929-7.678 0-10.606l-15.625-15.626c-2.929-2.929-7.678-2.929-10.606 0-2.929 2.929-2.929 7.678 0 10.606z\" />\r\n                <path\r\n                    d=\"m439.784 53.939c1.919 0 3.839-.732 5.303-2.197l15.625-15.625c2.929-2.929 2.929-7.678 0-10.606-2.929-2.929-7.678-2.929-10.606 0l-15.626 15.625c-2.929 2.929-2.929 7.678 0 10.606 1.465 1.465 3.384 2.197 5.304 2.197z\" />\r\n                <path\r\n                    d=\"m497.019 82.627h-22.098c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h22.098c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\" />\r\n                <path\r\n                    d=\"m278.832 97.627h22.098c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-22.098c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5z\" />\r\n                <path\r\n                    d=\"m81.687 182.62h119.086c4.581 0 8.295-3.714 8.295-8.295 0-4.582-3.714-8.296-8.295-8.296h-119.086c-4.581 0-8.295 3.714-8.295 8.296-.001 4.581 3.713 8.295 8.295 8.295z\" />\r\n                <path\r\n                    d=\"m81.687 220.244h119.086c4.581 0 8.295-3.714 8.295-8.295 0-4.581-3.714-8.295-8.295-8.295h-119.086c-4.581 0-8.295 3.714-8.295 8.295-.001 4.581 3.713 8.295 8.295 8.295z\" />\r\n                <path\r\n                    d=\"m209.068 249.572c0-4.582-3.714-8.296-8.295-8.296h-119.086c-4.581 0-8.295 3.714-8.295 8.296 0 4.581 3.714 8.295 8.295 8.295h119.086c4.581 0 8.295-3.714 8.295-8.295z\" />\r\n                <path\r\n                    d=\"m81.687 398.955h119.086c4.581 0 8.295-3.714 8.295-8.296 0-4.581-3.714-8.295-8.295-8.295h-119.086c-4.581 0-8.295 3.714-8.295 8.295-.001 4.582 3.713 8.296 8.295 8.296z\" />\r\n                <path\r\n                    d=\"m467.74 140.592h-9.226c.212-2.241.322-4.502.322-6.779 0-13.78-4.006-27.008-11.308-38.301-2.249-3.479-6.892-4.474-10.37-2.227-3.479 2.249-4.476 6.892-2.227 10.37 9.743 15.071 11.11 34.198 6.276 47.088-3.099 12.397-14.656 23.554-15.654 24.674-.136.152-.273.303-.407.456-6.155 7.013-11.096 15.04-14.562 23.457h-45.322c-3.898-9.474-9.804-18.732-17.417-26.556-10.209-10.492-15.832-24.329-15.832-38.962 0-30.66 24.95-55.912 55.911-55.912.732 0 1.467.014 2.204.042 7.653.292 15.037 2.138 21.947 5.486 3.729 1.805 8.214.248 10.02-3.48s.247-8.214-3.48-10.02c-8.786-4.256-18.178-6.603-27.915-6.975-36.187-1.367-66.733 24.544-72.638 58.786h-60.206c-5.448 0-10.431 2.018-14.251 5.34-3.821-3.322-8.803-5.34-14.252-5.34h-183.848c-7.803 0-14.151 6.348-14.151 14.151v4.702h-11.884c-10.736 0-19.47 8.734-19.47 19.47v201.964c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-7.159c.445.037.895.055 1.349.055h15.005c0 88.661-.127 82.892.288 84.915 1.322 6.442 7.035 11.303 13.863 11.303h183.849c4.209 0 5.427 3.133 6.752 4.402v22.681c-5.065-3.196-11.001-4.982-17.151-4.982h-199.485c-2.465 0-4.47-2.005-4.47-4.47v-71.745c0-4.142-3.358-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v71.745c0 10.736 8.734 19.47 19.47 19.47h199.484c6.058 0 11.729 3.253 14.802 8.488 4.477 7.634 15.322 7.459 19.698.001 3.073-5.236 8.745-8.489 14.803-8.489h199.483c10.736 0 19.47-8.734 19.47-19.47v-308.708c0-10.736-8.734-19.471-19.47-19.471zm-79.815 109.419c-11.228 0-20.362-9.134-20.362-20.362v-15.319h40.724v15.319c0 11.228-9.135 20.362-20.362 20.362zm-130.068-113.272h59.217c.412 10.175 3.112 20.379 7.674 29.29h-38.31c-4.581 0-8.296 3.714-8.296 8.295 0 4.582 3.714 8.296 8.296 8.296h50.087c6.293 6.62 10.524 12.519 14.252 21.033h-64.339c-4.581 0-8.296 3.714-8.296 8.296 0 4.581 3.714 8.295 8.296 8.295h66.125v9.406c0 4.073.7 7.983 1.973 11.626h-68.098c-4.581 0-8.296 3.714-8.296 8.296 0 4.581 3.714 8.295 8.296 8.295l79.847-.28c5.986 4.647 13.493 7.424 21.64 7.424 19.499 0 35.362-15.863 35.362-35.362v-21.492c5.539-15.613 14.434-23.66 17.57-27.179v255.163h-183c-.014 0-.028.002-.042.002-2.308.004-4.83.452-6.709 1.068v-293.719c-.001-3.723 3.028-6.753 6.751-6.753zm-242.857 23.324c0-2.465 2.005-4.47 4.47-4.47h11.884v129.027h-15.005c-.454 0-.904.019-1.349.055zm1.349 179.86c-.744 0-1.349-.605-1.349-1.349v-37.606c0-.744.605-1.349 1.349-1.349h22.505 5.26v40.303h-5.26-22.505zm35.265 15h103.97c1.428 0 2.994-.45 4.278-1.344.013-.009.027-.015.04-.024l32.845-23.13c3.461-2.438 5.528-6.42 5.528-10.654s-2.067-8.216-5.528-10.653l-32.845-23.13c-.014-.01-.03-.017-.044-.027-1.1-.764-2.456-1.257-3.936-1.324-.113-.005-.224-.017-.339-.017-12.899 0-97.918 0-109.229 0v-136.528-11.353h183c3.723 0 6.752 3.029 6.752 6.752v293.719c-1.938-.63-4.447-1.063-6.708-1.068-.015 0-.029-.002-.044-.002h-183v-81.217zm96.469-15h-88.97v-40.303h88.97zm33.74-20.151-18.739 13.197v-26.394zm290.387 149c0 2.465-2.005 4.47-4.47 4.47h-199.483c-6.15 0-12.086 1.787-17.151 4.982v-22.681c1.364-1.309 2.501-4.401 6.751-4.401h183.849c7.802 0 14.151-6.348 14.151-14.151v-281.399h11.884c2.465 0 4.47 2.005 4.47 4.47v308.71z\" />\r\n            </g>\r\n        </g>\r\n    </svg>)\r\n}","import NavDropdown from 'react-bootstrap/NavDropdown'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport default function Search() {\r\n    return <NavDropdown title=\"Search by\">\r\n        <NavDropdown.Item to=\"/search/title\" as={Link}>Title</NavDropdown.Item>\r\n        <NavDropdown.Item to=\"/search/author\" as={Link}>Author</NavDropdown.Item>\r\n        <NavDropdown.Item to=\"/search/genre\" as={Link}>Genre</NavDropdown.Item>\r\n        <NavDropdown.Item to=\"/search/series\" as={Link}>Series</NavDropdown.Item>\r\n    </NavDropdown>\r\n}","import { useEffect, useState } from \"react\"\r\nimport NavDropdown from \"react-bootstrap/NavDropdown\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { getAll } from '../../../services/books-service'\r\n\r\nexport default function Catalog() {\r\n    const [books, setBooks] = useState([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        if (isLoading) {\r\n            getAll().then(x => {\r\n                setBooks(x)\r\n            })\r\n        }\r\n\r\n        return () => {\r\n            setIsLoading(false)\r\n        }\r\n    })\r\n\r\n    return <NavDropdown title=\"Books\">\r\n        <NavDropdown.Item to=\"/books/all\" as={Link}>All books ({books.length} book{books.length > 1 ? 's' : ''})</NavDropdown.Item>\r\n        <NavDropdown.Item to=\"/books/newest\" as={Link}>New books (12 recently added books)</NavDropdown.Item>\r\n        <NavDropdown.Item to=\"/books/liked\" as={Link}>Most liked books (12 most liked books)</NavDropdown.Item>\r\n    </NavDropdown>\r\n}","import { useDispatch } from 'react-redux'\r\nimport { useNavigate } from \"react-router\"\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport NavDropdown from \"react-bootstrap/NavDropdown\"\r\nimport { Link } from \"react-router-dom\"\r\nimport Logo from \"../../util/Logo\"\r\nimport Search from \"../util/Search\"\r\nimport Catalog from '../util/Catalog'\r\nimport { logout as authSliceLogout } from '../../../redux/slices/authSlice'\r\n\r\nexport default function UserNav() {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    return <header style={{ backgroundColor: \"#ACD646\", width: \"100%\" }}>\r\n        <Navbar bg=\"light\" expand=\"lg\">\r\n            <Container style={{ backgroundColor: \"greenyellow\" }}>\r\n                <Navbar.Brand to=\"/\" as={Link} data-testid=\"main\" style={{ marginRight: \"2%\" }}><Logo /> BookWorld</Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"me-auto\" style={{ marginLeft: \"15%\" }}>\r\n                        <Catalog />\r\n                        <Search />\r\n                        <Nav.Link to=\"/create\" as={Link}>Add book</Nav.Link>\r\n                        <NavDropdown title=\"Profile\">\r\n                            <NavDropdown.Item to=\"/profile/my\" as={Link}>My books</NavDropdown.Item>\r\n                            <NavDropdown.Item to=\"/profile/liked\" as={Link}>Liked books</NavDropdown.Item>\r\n                            <NavDropdown.Item to=\"/profile/favourite\" as={Link}>Favourite books</NavDropdown.Item>\r\n                            <NavDropdown.Item to=\"/profile/preferences\" as={Link}>Book preferences</NavDropdown.Item>\r\n                            <NavDropdown.Item to=\"/profile/recommended\" as={Link}>Recommended books</NavDropdown.Item>\r\n                            <NavDropdown.Item to=\"/profile/info\" as={Link}>Profile info</NavDropdown.Item>\r\n                        </NavDropdown>\r\n                        <Nav.Link to=\"/logout\" as={Link} onClick={e => logout(e, dispatch, authSliceLogout, navigate)}>Logout</Nav.Link>\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n        </Navbar>\r\n    </header>\r\n}\r\n\r\nfunction logout(e, dispatch, authSliceLogout, navigate) {\r\n    e.preventDefault()\r\n    dispatch(authSliceLogout())\r\n    localStorage.removeItem('username')\r\n    localStorage.removeItem('token')\r\n    navigate('/')\r\n}","import Navbar from 'react-bootstrap/Navbar'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport { Link } from \"react-router-dom\"\r\nimport Logo from \"../../util/Logo\"\r\nimport Search from \"../util/Search\"\r\nimport Catalog from \"../util/Catalog\"\r\n\r\nexport default function GuestNav() {\r\n    return <header style={{ backgroundColor: \"#ACD466\", width: \"100%\" }}>\r\n        <Navbar bg=\"light\" expand=\"lg\" style={{ width: \"100%\" }}>\r\n            <Container style={{ backgroundColor: \"greenyellow\", width: \"100%\" }}>\r\n                <Navbar.Brand to=\"/\" as={Link} data-testid=\"main\"><Logo /> BookWorld</Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"me-auto\" style={{ marginLeft: \"15%\" }}>\r\n                        <Nav.Link to=\"/register\" as={Link}>Register</Nav.Link>\r\n                        <Nav.Link to=\"/login\" as={Link}>Login</Nav.Link>\r\n                        <Catalog />\r\n                        <Search />\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n        </Navbar>\r\n    </header>\r\n}","import UserNav from '../UserNav/UserNav'\r\nimport GuestNav from '../GuestNav/GuestNav'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport default function Nav() {\r\n    const user = useSelector((state) => state.user)\r\n    if (user.token == null) {\r\n        return <GuestNav></GuestNav>\r\n    }\r\n    return <UserNav></UserNav>\r\n}","import { useState } from \"react\"\r\n\r\nconst useLocalStorage = (key, initialValue) => {\r\n    const [state, setState] = useState(() => {\r\n        try {\r\n            let item = localStorage.getItem(key)\r\n\r\n            return item\r\n                ? JSON.parse(item)\r\n                : initialValue\r\n        } catch (err) {\r\n            console.log(err)\r\n            return initialValue\r\n        }\r\n    })\r\n\r\n    const setItem = (value) => {\r\n        // TODO: add support for functions\r\n        try {\r\n            localStorage.setItem(key, JSON.stringify(value))\r\n\r\n            setState(value)\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    return [\r\n        state,\r\n        setItem\r\n    ]\r\n}\r\n\r\nexport default useLocalStorage","import { lazy, Suspense } from 'react'\r\nimport Spinner from 'react-bootstrap/Spinner'\r\nimport { Routes, Route } from 'react-router'\r\n\r\nconst Home = lazy(() => import('./components/util/Home/Home'))\r\nconst Signup = lazy(() => import('./components/auth/Register/Register'))\r\nconst Signin = lazy(() => import('./components/auth/Login/Login'))\r\nconst AllBooks = lazy(() => import('./components/books/catalog-components/all-books/AllBooks'))\r\nconst NewestBooks = lazy(() => import('./components/books/catalog-components/newest-books/NewestBooks'))\r\nconst MostLiked = lazy(() => import('./components/books/catalog-components/most-liked-books/MostLiked'))\r\nconst UserBooks = lazy(() => import('./components/books/user-books/UserBooks'))\r\nconst Create = lazy(() => import('./components/books/create/Create'))\r\nconst Details = lazy(() => import('./components/books/details/Details'))\r\nconst Series = lazy(() => import('./components/books/series/Series'))\r\nconst Edit = lazy(() => import('./components/books/edit/Edit'))\r\nconst CreatedBooks = lazy(() => import('./components/books/profile-components/created/CreatedBooks'))\r\nconst LikedBooks = lazy(() => import('./components/books/profile-components/liked/LikedBooks'))\r\nconst FavouriteBooks = lazy(() => import('./components/books/profile-components/favourite/FavouriteBooks'))\r\nconst Preferences = lazy(() => import('./components/books/profile-components/preferences/Preferences'))\r\nconst ProfileInfo = lazy(() => import('./components/books/profile-components/profile-info/ProfileInfo'))\r\nconst RecommendedBooks = lazy(() => import('./components/books/recommended/RecommendedBooks'))\r\nconst SearchByTitle = lazy(() => import('./components/books/search-components/title/Title'))\r\nconst SearchByAuthor = lazy(() => import('./components/books/search-components/author/Author'))\r\nconst SearchByGenre = lazy(() => import('./components/books/search-components/genre/Genre'))\r\nconst SearchBySeries = lazy(() => import('./components/books/search-components/series/Series'))\r\n\r\nexport default function AppRoutes() {\r\n    return <Suspense fallback={<Spinner variant=\"primary\" animation=\"border\"></Spinner>}>\r\n        <Routes>\r\n            <Route exact path=\"/\" element={<Home></Home>}></Route>\r\n            <Route path=\"/register\" element={<Signup></Signup>}></Route>\r\n            <Route path=\"/login\" element={<Signin></Signin>}></Route>\r\n            <Route path=\"/books/all\" element={<AllBooks></AllBooks>}></Route>\r\n            <Route path=\"/books/newest\" element={<NewestBooks></NewestBooks>}></Route>\r\n            <Route path=\"/books/liked\" element={<MostLiked></MostLiked>}></Route>\r\n            <Route path=\"/user/:username\" element={<UserBooks></UserBooks>}></Route>\r\n            <Route path=\"/create\" element={<Create></Create>}></Route>\r\n            <Route path=\"/details/:id\" element={<Details></Details>}></Route>\r\n            <Route path=\"/edit/:id\" element={<Edit></Edit>}></Route>\r\n            <Route path=\"/series/:name\" element={<Series></Series>}></Route>\r\n            <Route path=\"/profile/my\" element={<CreatedBooks></CreatedBooks>}></Route>\r\n            <Route path=\"/profile/liked\" element={<LikedBooks></LikedBooks>}></Route>\r\n            <Route path=\"/profile/favourite\" element={<FavouriteBooks></FavouriteBooks>}></Route>\r\n            <Route path=\"/profile/preferences\" element={<Preferences></Preferences>}></Route>\r\n            <Route path=\"/profile/info\" element={<ProfileInfo></ProfileInfo>}></Route>\r\n            <Route path=\"/profile/recommended\" element={<RecommendedBooks></RecommendedBooks>}></Route>\r\n            <Route path=\"/search/title\" element={<SearchByTitle></SearchByTitle>}></Route>\r\n            <Route path=\"/search/author\" element={<SearchByAuthor></SearchByAuthor>}></Route>\r\n            <Route path=\"/search/genre\" element={<SearchByGenre></SearchByGenre>}></Route>\r\n            <Route path=\"/search/series\" element={<SearchBySeries></SearchBySeries>}></Route>\r\n        </Routes>\r\n    </Suspense>\r\n}","import React from \"react\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Image from \"react-bootstrap/Image\"\r\nimport Nav from './components/nav/Nav/Nav'\r\n\r\nexport default class ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { hasError: false };\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {\r\n        return { hasError: true };\r\n    }\r\n\r\n    componentDidCatch(error, info) {\r\n\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return (\r\n                <div style={{ marginLeft: \"40%\" }}>\r\n                    <Nav></Nav>\r\n                    <p>Something went wrong.</p>\r\n                    <Button onClick={() => window.location.reload()}>Retry</Button>\r\n                    <Image style={{ marginTop: \"10%\" }} src=\"./error.jpg\" alt=\"No image\" />\r\n                </div>\r\n            );\r\n        }\r\n        return this.props.children;\r\n    }\r\n}  ","import { Provider } from 'react-redux'\nimport Button from 'react-bootstrap/Button'\nimport store from './redux/store'\nimport Nav from './components/nav/Nav/Nav'\nimport AuthContext from './contexts/AuthContext'\nimport useLocalStorage from './hooks/useLocalStorage'\nimport AppRoutes from './AppRoutes'\n\nimport './App.css'\nimport ErrorBoundary from './ErrorBoundary'\n\nconst initialState = {\n  username: null,\n  _id: null\n}\n\nfunction App() {\n  const [user, setUser] = useLocalStorage('user', initialState)\n\n  const login = (authData) => {\n    setUser(authData)\n  }\n\n  const logout = () => {\n    setUser(initialState)\n  }\n\n  return (\n    <ErrorBoundary>\n      <Provider store={store}>\n        <AuthContext.Provider value={{ user, login, logout }}>\n          <div className=\"App d-flex flex-column align-items-center\">\n            <Nav></Nav>\n            <AppRoutes></AppRoutes>\n            <footer style={{ backgroundColor: \"greenyellow\", width: \"90%\", marginTop: \"1%\" }}>\n              <p style={{ marginTop: \"2%\", textAlign: \"center\", fontSize: \"14px\" }}>This site was created by <Button style={{fontSize:\"13px\"}} variant=\"dark\" href=\"mailto:pepi_petrov@outlook.com\">Petar Petroff</Button></p>\n            </footer>\n          </div>\n        </AuthContext.Provider>\n      </Provider>\n    </ErrorBoundary>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport \"@pathofdev/react-tag-input/build/index.css\"\n\nReactDOM.render(\n  <Router>\n    <App></App>\n  </Router>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","import { initializeApp } from \"firebase/app\"\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBBl57WBHwYa-9WHvsRUv62BQ2XgY41J3I\",\r\n    authDomain: \"books-320707.firebaseapp.com\",\r\n    databaseURL: \"https://books-320707-default-rtdb.firebaseio.com\",\r\n    projectId: \"books-320707\",\r\n    storageBucket: \"books-320707.appspot.com\",\r\n    messagingSenderId: \"814577049102\",\r\n    appId: \"1:814577049102:web:057ae971e150c9dc11665f\",\r\n    measurementId: \"G-5QSKEG5MJ7\"\r\n}\r\n\r\nconst app = initializeApp(firebaseConfig)\r\nexport default app","import { getStorage, ref, uploadBytes, getDownloadURL, list, deleteObject } from 'firebase/storage'\r\nimport app from './firebase'\r\n\r\nconst storage = getStorage(app)\r\n\r\nexport async function uploadImage(bookId, file) {\r\n    const imageRef = ref(storage, `${bookId}/${file.name}`)\r\n    await uploadBytes(imageRef, file)\r\n}\r\n\r\nexport async function getImageUrl(bookId) {\r\n    const imageRef = ref(storage, `${bookId}/`)\r\n    const imgList = await list(imageRef)\r\n    const fullRef = imgList.items[0]\r\n    const url = await getDownloadURL(fullRef)\r\n    return url\r\n}\r\n\r\nexport async function removeImage(bookId) {\r\n    const imageRef = ref(storage, `${bookId}/`)\r\n    const imgList = await list(imageRef)\r\n    const fullRef = imgList.items[0]\r\n\r\n    await deleteObject(fullRef)\r\n}\r\n\r\nexport async function editImage(bookId, file) {\r\n    await removeImage(bookId)\r\n    await uploadImage(bookId, file)\r\n}\r\n\r\nexport async function getAvatar(username) {\r\n    const imageRef = ref(storage, `${username}/`)\r\n    const imgList = await list(imageRef)\r\n    const fullRef = imgList.items[0]\r\n    if (fullRef) {\r\n        const url = await getDownloadURL(fullRef)\r\n        return url\r\n    } else {\r\n        return ''\r\n    }\r\n}\r\n\r\nexport async function setAvatar(username, avatar) {\r\n    if (avatar !== null) {\r\n        const imageRef = ref(storage, `${username}/`)\r\n        const avatarRef = ref(storage, `${username}/${avatar.name}`)\r\n        const imgList = await list(imageRef)\r\n        const fullRef = imgList.items[0]\r\n        try {\r\n            await deleteObject(fullRef)\r\n        } catch (e) { }\r\n        await uploadBytes(avatarRef, avatar)\r\n    }\r\n}","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nexport const authSlice = createSlice({\r\n    name: 'auth',\r\n    initialState: {\r\n        user: {\r\n            username: null,\r\n            token: null\r\n        }\r\n    },\r\n    reducers: {\r\n        login: (state) => {\r\n            const newState =\r\n            {\r\n                user: {\r\n                    username: localStorage.getItem('username'),\r\n                    token: localStorage.getItem('token')\r\n                }\r\n            }\r\n            return newState\r\n        },\r\n        logout: (state) => {\r\n            return {\r\n                user: {\r\n                    username: null,\r\n                    token: null\r\n                }\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nexport const { login, logout } = authSlice.actions\r\n\r\nexport default authSlice.reducer","import { getDatabase, ref, child, get, push, remove, set } from \"firebase/database\"\r\nimport uniqid from 'uniqid'\r\nimport { removeAllCommentsForBook } from './comments-service'\r\nimport { uploadImage, removeImage, editImage } from './image-service'\r\nimport app from './firebase'\r\n\r\nconst db = getDatabase(app)\r\nconst dbRef = ref(db)\r\n\r\nexport async function getAll() {\r\n    const snapshot = await get(child(dbRef, '/books'))\r\n    if (snapshot.val() !== null) {\r\n        const books = Object.values(snapshot.val()).sort((a, b) => a.title.localeCompare(b.title))\r\n        return books\r\n    }\r\n    else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport async function getBook(id) {\r\n    const books = await getAll()\r\n    if (books !== null) {\r\n        for (let book of books) {\r\n            if (book._id === id) {\r\n                return book\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport async function create(book, file) {\r\n    const isExisting = await ifExists(book)\r\n    if (!isExisting) {\r\n        book.rating = []\r\n        book.likes = []\r\n        book.creator = localStorage.getItem('username')\r\n        book._id = uniqid()\r\n        book.createdOn = Date.now()\r\n        await uploadImage(book._id, file)\r\n        await push(child(dbRef, '/books'), book)\r\n        return book._id\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport async function edit(id, book, file) {\r\n    const snapshot = await get(child(dbRef, '/books'))\r\n    const vals = snapshot.val()\r\n    for (let bookKey in snapshot.val()) {\r\n        const bookCheck = vals[bookKey]\r\n        if (bookCheck._id === id) {\r\n            await set(child(dbRef, `books/${bookKey}`), book)\r\n        }\r\n    }\r\n    if (file !== null) {\r\n        await editImage(id, file)\r\n    }\r\n}\r\n\r\nexport async function removeBook(bookId) {\r\n    const snapshot = await get(child(dbRef, '/books'))\r\n    const vals = snapshot.val()\r\n    const usersSnapshot = await get(child(dbRef, '/books'))\r\n    const usersVals = usersSnapshot.val()\r\n    for (let userKey in usersVals) {\r\n        const user = usersVals[userKey]\r\n        if (user.likes !== undefined) {\r\n            if (user.likes.indexOf(bookId) !== -1) {\r\n                user.likes.splice(user.likes.indexOf(bookId), 1)\r\n                await set(child(dbRef, `/users/${userKey}`), user)\r\n            }\r\n        }\r\n        if (usersVals[userKey]._id === localStorage.getItem('token')) {\r\n            if (user.favourites !== undefined) {\r\n                if (user.favourites.indexOf(bookId) !== -1) {\r\n                    user.favourites.splice(user.likes.indexOf(bookId), 1)\r\n                    await set(child(dbRef, `/users/${userKey}`), user)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    await removeAllCommentsForBook(bookId)\r\n    await removeImage(bookId)\r\n    for (let bookKey in vals) {\r\n        if (vals[bookKey]._id === bookId) {\r\n            await remove(child(dbRef, `books/${bookKey}`))\r\n        }\r\n    }\r\n}\r\n\r\nexport async function getBySeries(name) {\r\n    const allBooks = await getAll()\r\n    const bookBySeries = allBooks\r\n        .filter(x => x.series === name)\r\n        .sort((a, b) => a.seriesNumber - b.seriesNumber)\r\n    return bookBySeries\r\n}\r\n\r\nexport async function addToFavourites(bookId) {\r\n    const snapshot = await get(child(dbRef, '/users'))\r\n    const users = snapshot.val()\r\n    for (let userKey in users) {\r\n        if (users[userKey]._id === localStorage.getItem('token')) {\r\n            const user = users[userKey]\r\n            if (user.favourites === undefined) {\r\n                user.favourites = []\r\n            }\r\n            user.favourites.push(bookId)\r\n            await set(child(dbRef, '/users/' + userKey), user)\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport async function removeFromFavourites(bookId) {\r\n    const snapshot = await get(child(dbRef, '/users'))\r\n    const users = snapshot.val()\r\n    for (let userKey in users) {\r\n        if (users[userKey]._id === localStorage.getItem('token')) {\r\n            const user = users[userKey]\r\n            user.favourites = user.favourites.filter(x => x !== bookId)\r\n            await set(child(dbRef, `/users/${userKey}`), user)\r\n        }\r\n    }\r\n}\r\n\r\nexport async function addRating(bookId, value) {\r\n    const book = await getBook(bookId)\r\n    const snapshot = await get(child(dbRef, '/books'))\r\n    const vals = snapshot.val()\r\n    if (book.ratings === undefined) {\r\n        book.ratings = []\r\n    }\r\n    book.ratings.push({ username: localStorage.getItem('username'), rating: value })\r\n    for (let bookKey in snapshot.val()) {\r\n        if (vals[bookKey]._id === bookId) {\r\n            set(child(dbRef, `books/${bookKey}`), book).then(() => {\r\n                console.log('hehhehheh')\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport async function like(bookId, setUser) {\r\n    const book = await getBook(bookId)\r\n    const snapshot = await get(child(dbRef, '/books'))\r\n    const users = await get(child(dbRef, '/users'))\r\n    const vals = snapshot.val()\r\n    const usersVals = users.val()\r\n    if (book.likes === undefined) {\r\n        book.likes = []\r\n    }\r\n    book.likes.push(localStorage.getItem('username'))\r\n    for (let bookKey in snapshot.val()) {\r\n        if (vals[bookKey]._id === bookId) {\r\n            await set(child(dbRef, `books/${bookKey}`), book)\r\n        }\r\n    }\r\n    for (let userKey in users.val()) {\r\n        if (usersVals[userKey]._id === localStorage.getItem('token')) {\r\n            const user = usersVals[userKey]\r\n            if (user.likes === undefined) {\r\n                user.likes = []\r\n            }\r\n            user.likes.push(bookId)\r\n            setUser(user)\r\n            await set(child(dbRef, `users/${userKey}`), user)\r\n        }\r\n    }\r\n}\r\n\r\nexport async function dislike(bookId) {\r\n    const book = await getBook(bookId)\r\n    const snapshot = await get(child(dbRef, '/books'))\r\n    const vals = snapshot.val()\r\n    const usersSnapshot = await get(child(dbRef, '/users'))\r\n    const usersVals = usersSnapshot.val()\r\n    book.likes.splice(book.likes.indexOf(localStorage.getItem('username')), 1)\r\n    for (let bookKey in snapshot.val()) {\r\n        if (vals[bookKey]._id === bookId) {\r\n            await set(child(dbRef, `books/${bookKey}`), book)\r\n        }\r\n    }\r\n    for (let userKey in usersVals) {\r\n        if (usersVals[userKey]._id === localStorage.getItem('token')) {\r\n            const user = usersVals[userKey]\r\n            if (user.likes !== undefined) {\r\n                if (user.likes.indexOf(bookId) !== -1) {\r\n                    user.likes.splice(user.likes.indexOf(bookId), 1)\r\n                    await set(child(dbRef, `users/${userKey}`), user)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport async function getNewestBooks() {\r\n    const books = await getAll()\r\n    const result = books ? books.sort((a, b) => b.createdOn - a.createdOn).slice(0, 12) : []\r\n\r\n    return result\r\n}\r\n\r\nexport async function getMostLikedBooks() {\r\n    const books = await getAll()\r\n    const result = books\r\n        ? books.filter(x => x.likes).sort((a, b) => b.likes.length - a.likes.length).slice(0, 12)\r\n        : []\r\n\r\n    return result\r\n}\r\n\r\nexport async function getBooksByUser(username) {\r\n    const books = await getAll()\r\n\r\n    return books.filter(x => x.creator === username)\r\n}\r\n\r\nexport async function ifExists(book) {\r\n    const books = await getAll()\r\n    for (const bookCheck of books) {\r\n        if (book.title === bookCheck.title) {\r\n            return true\r\n        }\r\n    }\r\n\r\n    return false\r\n}","import { getDatabase, ref, child, get, push, remove, set } from \"firebase/database\"\r\nimport uniqid from 'uniqid'\r\nimport app from './firebase'\r\n\r\nconst db = getDatabase(app)\r\nconst dbRef = ref(db)\r\n\r\nexport async function getAllComments(bookId) {\r\n    const snapshot = await get(child(dbRef, '/comments'))\r\n    if (snapshot.val() === null) {\r\n        return []\r\n    } else {\r\n        return Object.values(snapshot.val())\r\n    }\r\n}\r\n\r\nexport async function getCommentsByBook(bookId) {\r\n    const snapshot = await get(child(dbRef, '/comments'))\r\n    const fitlered = []\r\n    if (snapshot.val() === null) {\r\n        return []\r\n    } else {\r\n        const comments = snapshot.val()\r\n        Object.values(comments).filter(x => x.bookId === bookId).map(x => {\r\n            fitlered.push(x)\r\n            return x\r\n        })\r\n        return fitlered\r\n    }\r\n}\r\n\r\nexport async function createComment({ content }, bookId) {\r\n    const comment = {}\r\n    comment.content = content\r\n    comment.bookId = bookId\r\n    comment.creator = localStorage.getItem('username')\r\n    comment._id = uniqid()\r\n    await push(child(dbRef, '/comments'), comment)\r\n    return await getCommentsByBook(bookId)\r\n}\r\n\r\nexport async function editComment(newComment, id) {\r\n    const commentsSnapshot = await get(child(dbRef, '/comments'))\r\n    const comments = commentsSnapshot.val()\r\n    for (const commentKey in comments) {\r\n        const comment = comments[commentKey]\r\n        if (comment._id === id) {\r\n            comment.content = newComment.content\r\n            await set(child(dbRef, '/comments/' + commentKey), comment)\r\n        }\r\n    }\r\n}\r\n\r\nexport async function removeComment(id) {\r\n    const commentsSnapshot = await get(child(dbRef, '/comments'))\r\n    const comments = commentsSnapshot.val()\r\n    for (const commentKey in comments) {\r\n        const comment = comments[commentKey]\r\n        if (comment._id === id) {\r\n            await remove(child(dbRef, '/comments/' + commentKey))\r\n        }\r\n    }\r\n}\r\n\r\nexport async function removeAllCommentsForBook(bookId) {\r\n    const snapshot = await get(child(dbRef, '/comments'))\r\n    if (snapshot.val() === null) {\r\n        return\r\n    } else {\r\n        const comments = snapshot.val()\r\n        for (const commentId in comments) {\r\n            const comment = comments[commentId]\r\n            if (comment.bookId === bookId) {\r\n                await remove(child(dbRef, '/comments/' + commentId))\r\n            }\r\n        }\r\n    }\r\n}"],"sourceRoot":""}