(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[27],{216:function(e,t,r){"use strict";r.r(t);var n=r(8),a=r(2),i=r(5),c=r(0),l=r(3),s=r(151),o=r(53),j=r(182),b=r(198),u=r(186),d=r(199),h=r(175),O=r(150),p=r(158),x=r(1);t.default=Object(p.a)((function(){var e=Object(l.g)(),t=Object(c.useState)({}),r=Object(i.a)(t,2),p=r[0],g=r[1],v=Object(c.useState)({}),f=Object(i.a)(v,2),y=f[0],C=f[1],m=Object(c.useState)([]),k=Object(i.a)(m,2),L=k[0],S=k[1],G=Object(c.useState)(null),q=Object(i.a)(G,2),w=q[0],I=q[1],T=Object(d.a)(),F=function(e,t){g(Object(a.a)(Object(a.a)({},p),{},Object(n.a)({},e,t))),y[e]&&C(Object(a.a)(Object(a.a)({},y),{},Object(n.a)({},e,null)))},A=function(){var e=p.title,t=p.author,r=p.description,n=(p.series,p.seriesRow,p.year),a={};return void 0!==e?Object(h.c)(e)&&(a.title="Title is required!"):a.title="Title is required!",void 0!==t?Object(h.c)(t)&&(a.author="Author is required!"):a.author="Author is required!",null===w&&(a.img="Image is required!"),void 0!==r?Object(h.c)(r)&&(a.description="Description is required!"):a.description="Description is required!",void 0!==n?n<1950&&(a.year="Minimal value is 1950!"):a.year="Year is required!",0===L.length&&(a.genre="There must be at least one genre!"),a};return Object(x.jsx)(u.a.Provider,{value:{setTags:S},children:Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"my-4 font-weight-bold .display-4",children:"Create Book"}),Object(x.jsxs)(s.a,{style:{width:"300px"},children:[Object(x.jsxs)(s.a.Group,{children:[Object(x.jsx)(s.a.Label,{children:"Title"}),Object(x.jsx)(s.a.Control,{onChange:function(e){return F("title",e.target.value)},placeholder:"Title",isInvalid:!!y.title,defaultValue:String("")}),Object(x.jsx)(s.a.Control.Feedback,{type:"invalid",children:y.title})]}),Object(x.jsxs)(s.a.Group,{children:[Object(x.jsx)(s.a.Label,{children:"Author"}),Object(x.jsx)(s.a.Control,{onChange:function(e){return F("author",e.target.value)},placeholder:"Author",isInvalid:!!y.author}),Object(x.jsx)(s.a.Control.Feedback,{type:"invalid",children:y.author})]}),Object(x.jsxs)(s.a.Group,{children:[Object(x.jsx)(s.a.Label,{children:"Image"}),Object(x.jsx)(s.a.Control,{type:"file",onChange:function(e){return I(e.target.files[0])},placeholder:"Choose image"}),Object(x.jsx)(s.a.Control.Feedback,{type:"invalid",children:y.img})]}),Object(x.jsxs)(s.a.Group,{children:[Object(x.jsx)(s.a.Label,{children:"Description"}),Object(x.jsx)(s.a.Control,{as:"textarea",onChange:function(e){return F("description",e.target.value)},isInvalid:!!y.description}),Object(x.jsx)(s.a.Control.Feedback,{type:"invalid",children:y.description})]})]}),Object(x.jsxs)("div",{style:{width:"300px"},children:[Object(x.jsx)(s.a.Label,{children:"Genres"}),T?null:Object(x.jsx)(j.a,{tags:L,onChange:function(e){return S(e)},placeholder:"Enter genre and press enter"}),T?Object(x.jsx)(b.a,{tagsInput:L}):null,Object(x.jsx)(s.a.Control.Feedback,{type:"invalid",children:y.genres})]}),Object(x.jsxs)(s.a,{style:{width:"300px"},onSubmit:function(t){t.preventDefault();var r=A();p.genres=L,Object.keys(r).length>0?C(r):Object(O.c)(p,w).then((function(){e("/details/".concat(p._id))}))},children:[Object(x.jsxs)(s.a.Group,{children:[Object(x.jsx)(s.a.Label,{children:"Series"}),Object(x.jsx)(s.a.Control,{onChange:function(e){return F("series",e.target.value)},placeholder:"Series - optional"})]}),Object(x.jsxs)(s.a.Group,{children:[Object(x.jsx)(s.a.Label,{children:"Series Number"}),Object(x.jsx)(s.a.Control,{onChange:function(e){return F("seriesRow",e.target.value)},placeholder:"Series Number - optional",type:"number"})]}),Object(x.jsxs)(s.a.Group,{children:[Object(x.jsx)(s.a.Label,{children:"Year of Publishing"}),Object(x.jsx)(s.a.Control,{onChange:function(e){return F("year",e.target.value)},placeholder:"Year of Publishing",isInvalid:!!y.year,type:"number",min:"1950"}),Object(x.jsx)(s.a.Control.Feedback,{type:"invalid",children:y.year})]}),Object(x.jsxs)(s.a.Group,{children:[Object(x.jsx)(s.a.Label,{children:"Link to buy from"}),Object(x.jsx)(s.a.Control,{onChange:function(e){return F("buyLink",e.target.value)},placeholder:"Link to buy from - optional"})]}),Object(x.jsx)(o.a,{type:"submit",style:{marginTop:"5%"},children:"Create Book"})]})]})})}))}}]);
//# sourceMappingURL=27.6692f527.chunk.js.map