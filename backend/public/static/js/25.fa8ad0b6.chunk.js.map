{"version":3,"sources":["hoc/isAuth.js","validators.js","contexts/TagsContext.js","components/books/utils/TagsInputMobile.js","hooks/useIsMobile.js","components/books/edit/Edit.js","hoc/isOwner.js"],"names":["isAuth","Component","props","useSelector","state","user","token","to","isEmpty","string","length","undefined","equals","a","b","isLength","isURL","url","test","isEmail","email","TagsContext","createContext","TagsInputMobile","tagsInput","setTagsContext","useContext","setTags","useState","form","setForm","errors","setErrors","findFormErrors","genre","newErrors","title","onSubmit","e","preventDefault","Object","keys","tags","onChange","readOnly","placeholder","Control","style","marginTop","field","value","target","isInvalid","Feedback","type","useIsMobile","checkForDevice","window","innerWidth","isMobile","setIsMobile","useEffect","handlePageResized","addEventListener","removeEventListener","id","useParams","navigate","useNavigate","file","setFile","getBook","then","x","genres","setField","handleSubmit","edit","_id","author","description","publisher","series","seriesRow","year","Provider","className","Form","Row","Group","width","float","Label","files","as","marginLeft","min","defaultValue","onlineLink","downloadLink","buyLink","Button","marginBottom","variant","username","localStorage","getItem"],"mappings":"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","file":"static/js/25.fa8ad0b6.chunk.js","sourcesContent":["import { useSelector } from 'react-redux'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\nexport const isAuth = (Component) => {\r\n\r\n    const WrapperComponent = (props) => {\r\n        const user = useSelector((state) => state.user)\r\n\r\n        return user.token !== null\r\n            ? <Component {...props} />\r\n            : <Navigate to=\"/login\" />\r\n    }\r\n\r\n    return WrapperComponent\r\n}\r\n","export function isEmpty(string) {\r\n    if (string.length === 0 || string === undefined) {\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\nexport function equals(a, b) {\r\n    if (a === b) {\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\nexport function isLength(string, length) {\r\n    if (string.length >= length) {\r\n        return true\r\n    }\r\n    return false\r\n}\r\n\r\nexport function isURL(url) {\r\n    const regex = /^(https:|http:|www\\.)\\S*/gm\r\n    return regex.test(url)\r\n}\r\n\r\nexport function isEmail(email) {\r\n    const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/\r\n    return regex.test(email)\r\n}","import { createContext } from \"react\"\r\n\r\nconst TagsContext = createContext({})\r\n\r\nexport default TagsContext","import { useState, useContext } from \"react\";\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport ReactTagInput from \"@pathofdev/react-tag-input\";\r\nimport { isEmpty } from \"../../../validators\";\r\nimport TagsContext from \"../../../contexts/TagsContext\";\r\n\r\nfunction TagsInputMobile({ tagsInput }) {\r\n    const { setTags: setTagsContext } = useContext(TagsContext)\r\n    const [form, setForm] = useState({})\r\n    const [errors, setErrors] = useState({})\r\n\r\n    const setField = (field, value) => {\r\n        setForm({\r\n            ...form,\r\n            [field]: value\r\n        })\r\n        if (!!errors[field]) setErrors({\r\n            ...errors,\r\n            [field]: null\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const newErrors = findFormErrors()\r\n        setTagsContext([...tagsInput, form.genre])\r\n        if (Object.keys(newErrors).length > 0) {\r\n            setErrors(newErrors)\r\n            return\r\n        }\r\n    }\r\n\r\n    const findFormErrors = () => {\r\n        const { genre } = form\r\n        const newErrors = {}\r\n        if (genre !== undefined) {\r\n            if (isEmpty(genre)) {\r\n                newErrors.genre = 'Genre is required!'\r\n            }\r\n        } else {\r\n            newErrors.title = 'Genre is required!'\r\n        }\r\n\r\n        return newErrors\r\n    }\r\n\r\n    return <Form onSubmit={handleSubmit}>\r\n        <ReactTagInput\r\n            tags={tagsInput}\r\n            onChange={setTagsContext}\r\n            readOnly={false}\r\n            placeholder=\"Genres will vizualize here\"\r\n        />\r\n        <Form.Control\r\n            placeholder=\"Enter genre\" style={{ marginTop: \"5%\" }}\r\n            onChange={e => setField('genre', e.target.value)}\r\n            isInvalid={!!errors.genre}></Form.Control>\r\n        <Form.Control.Feedback type=\"invalid\">{errors.genre}</Form.Control.Feedback>\r\n        <Button type=\"submit\" style={{ marginTop: \"5%\" }}>Add genre</Button>\r\n    </Form>\r\n}\r\n\r\nexport default TagsInputMobile\r\n","import { useState, useEffect } from 'react'\r\n\r\nconst useIsMobile = () => {\r\n    const checkForDevice = () => {\r\n        let windowWidth = window.innerWidth\r\n        if (windowWidth < 767.98) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    const [isMobile, setIsMobile] = useState(checkForDevice())\r\n\r\n    useEffect(() => {\r\n        const handlePageResized = () => {\r\n            setIsMobile(checkForDevice)\r\n        }\r\n\r\n        window.addEventListener('resize', handlePageResized)\r\n        window.addEventListener('orientationchange', handlePageResized)\r\n        window.addEventListener('load', handlePageResized)\r\n        window.addEventListener('reload', handlePageResized)\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', handlePageResized)\r\n            window.removeEventListener('orientationchange', handlePageResized)\r\n            window.removeEventListener('load', handlePageResized)\r\n            window.removeEventListener('reload', handlePageResized)\r\n        }\r\n    }, [])\r\n\r\n    return isMobile\r\n}\r\n\r\nexport default useIsMobile","import React, { useEffect, useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Row from 'react-bootstrap/Row'\r\nimport ReactTagInput from '@pathofdev/react-tag-input'\r\nimport TagsInputMobile from '../utils/TagsInputMobile'\r\nimport TagsContext from '../../../contexts/TagsContext'\r\nimport useIsMobile from '../../../hooks/useIsMobile'\r\nimport { isEmpty } from '../../../validators'\r\nimport { edit, getBook } from '../../../services/books-service'\r\nimport { isAuth } from '../../../hoc/isAuth'\r\nimport { isOwner } from '../../../hoc/isOwner'\r\n\r\nfunction Edit() {\r\n    const { id } = useParams()\r\n    const navigate = useNavigate()\r\n    const isMobile = useIsMobile()\r\n    const [form, setForm] = useState({})\r\n    const [errors, setErrors] = useState({})\r\n    const [tags, setTags] = useState([])\r\n    const [file, setFile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        getBook(id).then(x => {\r\n            setTags(x.genres)\r\n            setForm(x)\r\n        })\r\n        return\r\n    }, [id, navigate])\r\n\r\n    form.genres = tags\r\n\r\n    const setField = (field, value) => {\r\n        setForm({\r\n            ...form,\r\n            [field]: value\r\n        })\r\n        if (!!errors[field]) setErrors({\r\n            ...errors,\r\n            [field]: null\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const newErrors = findFormErrors()\r\n        form.genres = tags\r\n        if (Object.keys(newErrors).length > 0) {\r\n            setErrors(newErrors)\r\n            return\r\n        }\r\n        edit(id, form, file).then(x => {\r\n            navigate(`/details/${form._id}`)\r\n        })\r\n    }\r\n\r\n    const findFormErrors = () => {\r\n        // eslint-disable-next-line\r\n        const { title, author, description, series, seriesRow, publisher, year } = form\r\n        const newErrors = {}\r\n        if (title === undefined || title.length === 0) {\r\n            newErrors.title = 'Title is required!'\r\n        }\r\n        if (author === undefined || author.length === 0) {\r\n            newErrors.author = 'Author is required!'\r\n        }\r\n\r\n        if (description === undefined || description.length === 0) {\r\n            newErrors.description = 'Description is required!'\r\n        }\r\n\r\n        if (year !== undefined) {\r\n            if (year < 1950) {\r\n                newErrors.year = 'Minimal value is 1950!'\r\n            }\r\n        } else {\r\n            newErrors.year = 'Year is required!'\r\n        }\r\n\r\n        if (publisher !== undefined) {\r\n            if (isEmpty(publisher)) {\r\n                newErrors.publisher = 'Publisher is required!'\r\n            }\r\n        } else {\r\n            newErrors.publisher = 'Publisher is required!'\r\n        }\r\n\r\n        if (tags.length === 0) {\r\n            newErrors.genre = 'There must be at least one genre!'\r\n        }\r\n\r\n        return newErrors\r\n    }\r\n\r\n    return (\r\n        <TagsContext.Provider value={{ setTags }}>\r\n            <div>\r\n                <h1 className=\"my-4 font-weight-bold .display-4\">Edit Book</h1>\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Row>\r\n                        <Form.Group style={{ width: \"50%\", float: \"left\" }}>\r\n                            <Form.Label>Title</Form.Label>\r\n                            <Form.Control onChange={e => setField('title', e.target.value)} placeholder=\"Title\" isInvalid={!!errors.title} value={form.title} />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.title}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group style={{ width: \"50%\", float: \"left\" }}>\r\n                            <Form.Label>Author</Form.Label>\r\n                            <Form.Control onChange={e => setField('author', e.target.value)} placeholder=\"Author\" isInvalid={!!errors.author} value={form.author} />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.author}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <Form.Group style={{ marginTop: \"5%\" }}>\r\n                        <Form.Label>Image (optional, original image won't be replaced)</Form.Label>\r\n                        <Form.Control type=\"file\" onChange={e => setFile(e.target.files[0])}></Form.Control>\r\n                    </Form.Group>\r\n                    <Form.Group style={{ marginTop: \"5%\" }}>\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control as=\"textarea\" onChange={e => setField('description', e.target.value)} isInvalid={!!errors.description} value={form.description} />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.description}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                </Form>\r\n                <div style={{ marginTop: \"5%\", width: \"50%\", marginLeft: \"25%\" }}>\r\n                    <Form.Label>Genres</Form.Label>\r\n                    {!isMobile\r\n                        ? <ReactTagInput\r\n                            tags={tags}\r\n                            onChange={tags => setTags(tags)}\r\n                            placeholder=\"Enter genre and press enter\"\r\n                        />\r\n                        : null\r\n                    }\r\n                    {isMobile\r\n                        ? <TagsInputMobile tagsInput={tags} onChange={setTags}></TagsInputMobile>\r\n                        : null}\r\n                    <Form.Control.Feedback type=\"invalid\">{errors.genres}</Form.Control.Feedback>\r\n                </div>\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Row style={{ marginTop: \"5%\" }}>\r\n                        <Form.Group style={{ width: \"50%\", float: \"left\" }}>\r\n                            <Form.Label>Series</Form.Label>\r\n                            <Form.Control onChange={e => setField('series', e.target.value)} placeholder=\"Series\" value={form.series}></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group style={{ width: \"50%\", float: \"left\" }}>\r\n                            <Form.Label>Series Number</Form.Label>\r\n                            <Form.Control onChange={e => setField('seriesRow', e.target.value)} placeholder=\"Series Number\" type=\"number\" value={form.seriesRow} />\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <Row style={{ marginTop: \"5%\" }}>\r\n                        <Form.Group style={{ width: \"50%\", float: \"left\" }}>\r\n                            <Form.Label>Year of Publishing*</Form.Label>\r\n                            <Form.Control onChange={e => setField('year', e.target.value)} placeholder=\"Year of Publishing\" isInvalid={!!errors.year} type=\"number\" min=\"1950\" value={form.year} />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.year}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group style={{ width: \"50%\", float: \"left\" }}>\r\n                            <Form.Label>Publisher*</Form.Label>\r\n                            <Form.Control onChange={e => setField('publisher', e.target.value)} placeholder=\"Publisher\" isInvalid={!!errors.publisher} value={form.publisher} />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.publisher}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <Row style={{ marginTop: \"5%\" }}>\r\n                        <Form.Group style={{ width: \"50%\", float: \"left\" }}>\r\n                            <Form.Label>You can read the book online here: </Form.Label>\r\n                            <Form.Control onChange={e => setField('onlineLink', e.target.value)} placeholder=\"Link to read online\" defaultValue={form.onlineLink || ''}></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group style={{ width: \"50%\", float: \"left\" }}>\r\n                            <Form.Label>You can download the book here: </Form.Label>\r\n                            <Form.Control onChange={e => setField('downloadLink', e.target.value)} placeholder=\"Link to download\" defaultValue={form.downloadLink || ''}></Form.Control>\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <Form.Group style={{ marginTop: \"5%\" }}>\r\n                        <Form.Label>You can buy the book here: </Form.Label>\r\n                        <Form.Control onChange={e => setField('buyLink', e.target.value)} placeholder=\"Link to buy\" defaultValue={form.buyLink || ''}></Form.Control>\r\n                    </Form.Group>\r\n                    <Button type=\"submit\" style={{ marginTop: \"3%\", marginBottom: \"3%\" }} variant=\"success\">Edit Book</Button>\r\n                </Form>\r\n            </div >\r\n        </TagsContext.Provider >\r\n    )\r\n}\r\n\r\nexport default isAuth(isOwner(Edit))","import { useSelector } from 'react-redux'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\nexport const isOwner = (Component) => {\r\n\r\n    const WrapperComponent = (props) => {\r\n        const user = useSelector((state) => state.user)\r\n\r\n        return user.username === localStorage.getItem('username')\r\n            ? <Component {...props} />\r\n            : <Navigate to=\"/login\" />\r\n    }\r\n\r\n    return WrapperComponent\r\n}\r\n"],"sourceRoot":""}